!function(){"use strict";var t=document.querySelector(".content-modal_edit"),e=document.querySelector(".content-modal_add"),o=document.querySelector(".content-modal_edit-photo"),n=document.querySelector(".content-modal_delete-card"),r=document.querySelector(".content-pop-up_image"),i=(document.querySelectorAll(".card"),document.querySelector(".content-photos")),c=document.querySelector(".button_edit"),u=document.querySelector(".button_add"),l=document.querySelector(".button_edit-photo"),s=document.querySelector(".button_delete-card"),a=document.querySelector(".modal__button-close_edit"),f=document.querySelector(".modal__button-close_add"),p=document.querySelector(".modal__button-close_edit-photo"),y=document.querySelector(".modal__button-close_delete-card"),d=document.querySelector(".pop-up-window__button-close"),b=document.querySelector(".content-profile__add-button"),h=document.querySelector(".content-prof-info-text__edit-button"),m=document.querySelector(".profile-image"),_=document.querySelector(".profile-image__edit-icon"),v=document.querySelector(".content-prof-info-text__name"),P=document.querySelector(".content-prof-info-text__ocupation"),g=document.querySelector(".input_name"),w=document.querySelector(".input_ocupation"),S=document.querySelector(".input_name-place"),E=document.querySelector(".input_url"),U=document.querySelector(".input_url-edit"),O=document.querySelector(".profile-image__image"),k=Array.from(document.querySelectorAll(".modal-form"));function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function L(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==j(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===j(r)?r:String(r)),n)}var r}var C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._method=e.method,this._body=e.body,this._headers=e.headers}var e,o;return e=t,(o=[{key:"card",value:function(){return fetch("https://around.nomoreparties.co/v1/web_es_08/".concat(this._baseUrl),{method:this._method,body:this._body,headers:this._headers}).then((function(t){return t.ok?t.json():Promise.reject("Error al crear tarjeta: ".concat(t.status))}))}},{key:"profile",value:function(){return fetch("https://around.nomoreparties.co/v1/web_es_08/".concat(this._baseUrl),{method:this._method,body:this._body,headers:this._headers}).then((function(t){return t.ok?t.json():Promise.reject("Error al actualizar perfil: ".concat(t.status))}))}}])&&L(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function R(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==T(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===T(r)?r:String(r)),n)}var r}var B=function(){function t(e,o,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._contentPopUp=e,this._contentPopUpSelector=o,this._closeButtonPopUp=n,this._openButtonPopUp=r,this._closePopUpKeyDown=this._closePopUpKeyDown.bind(this),this._closePopUpOutsideClick=this._closePopUpOutsideClick.bind(this),this._openPopUp=this._openPopUp.bind(this),this._closePopUp=this._closePopUp.bind(this)}var e,o;return e=t,(o=[{key:"_togglePopUp",value:function(){this._contentPopUp.classList.toggle(this._contentPopUpSelector)}},{key:"_enableScroll",value:function(){document.body.style.overflow="auto"}},{key:"_disableScroll",value:function(){document.body.style.overflow="hidden"}},{key:"_addEvents",value:function(){document.addEventListener("keydown",this._closePopUpKeyDown),this._contentPopUp.addEventListener("click",this._closePopUpOutsideClick),this._closeButtonPopUp.addEventListener("click",this._closePopUp)}},{key:"_removeEvents",value:function(){document.removeEventListener("keydown",this._closePopUpKeyDown),this._contentPopUp.removeEventListener("click",this._closePopUpOutsideClick),this._closeButtonPopUp.removeEventListener("click",this._closePopUp)}},{key:"_closePopUpKeyDown",value:function(t){"Escape"===t.key&&this._closePopUp()}},{key:"_closePopUpOutsideClick",value:function(t){t.target===this._contentPopUp&&this._closePopUp()}},{key:"_openPopUp",value:function(){this._disableScroll(),this._togglePopUp(),this._addEvents()}},{key:"_closePopUp",value:function(){this._enableScroll(),this._togglePopUp(),this._removeEvents()}},{key:"setEventListeners",value:function(){this._openButtonPopUp.addEventListener("click",this._openPopUp)}}])&&R(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function x(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==q(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===q(r)?r:String(r)),n)}var r}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=z(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},I.apply(this,arguments)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(c,t);var e,o,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(n);if(r){var o=z(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e,o,n,r){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(u=i.call(this,t,e,o))._src=n,u._textContent=r,u}return e=c,(o=[{key:"_addEvents",value:function(){I(z(c.prototype),"_addEvents",this).call(this),this._contentPopUp.children[0].children[1].src=this._src,this._contentPopUp.children[0].children[2].textContent=this._textContent}},{key:"setEventListeners",value:function(){this._openPopUp()}}])&&x(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(B);function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function G(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==K(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===K(r)?r:String(r)),n)}var r}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},N.apply(this,arguments)}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(c,t);var e,o,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=J(n);if(r){var o=J(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return H(t)}(this,t)});function c(t,e,o,n,r,u){var l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(l=i.call(this,t,e,o))._submitButtonPopUp=n,l._card=r,l._idCard=u,l._submitPopUp=l._submitPopUp.bind(H(l)),l}return e=c,(o=[{key:"_addEvents",value:function(){N(J(c.prototype),"_addEvents",this).call(this),this._submitButtonPopUp.addEventListener("click",this._submitPopUp)}},{key:"_removeEvents",value:function(){N(J(c.prototype),"_removeEvents",this).call(this),this._submitButtonPopUp.removeEventListener("click",this._submitPopUp)}},{key:"_submitPopUp",value:function(){var t=this;this._submitButtonPopUp.textContent="Eliminando...",new C({baseUrl:"cards/".concat(this._idCard),method:"DELETE",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(t){console.log(t)})).catch((function(e){t._closePopUp(),console.log(e)})).finally((function(){t._closePopUp(),t._card.remove(),t._submitButtonPopUp.textContent="Eliminar"}))}},{key:"setEventListeners",value:function(){this._openPopUp()}}])&&G(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(B);function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function Q(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==F(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===F(r)?r:String(r)),n)}var r}var W=function(){function t(e,o,n,r,i,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._title=e,this._image=o,this._idCard=n,this._likes=r,this._isLiked=!1,this._user=i,this._cardSelector=c}var e,o;return e=t,(o=[{key:"_getTemplate",value:function(){var t=this;return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardPhotoItem=this._cardElement.querySelector(".card__photo-item"),this._cardTitle=this._cardElement.querySelector(".content-footer-card__title"),this._deleteButton=this._cardElement.querySelector(".card__button-delete"),this._likeButton=this._cardElement.querySelector(".heart-button__icon"),this._contLikes=this._cardElement.querySelector(".content-footer-card__likes"),this._likes.forEach((function(e){e._id===t._user._id&&(t._likeButton.classList.add("heart-button__icon_liked"),t._isLiked=!0)})),this._cardElement}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._cardPhotoItem.src=this._image,this._cardTitle.textContent=this._title,this._contLikes.textContent=this._likes.length,this._element}},{key:"_createCards",value:function(){}},{key:"_setEventListeners",value:function(){var t=this;this._cardPhotoItem.addEventListener("click",(function(){new A(r,"content-pop-up_visibility_visible",d,t._image,t._title).setEventListeners()})),this._deleteButton.addEventListener("click",(function(){new M(n,"content-modal_visibility_visible",y,s,t._element,t._idCard).setEventListeners()})),this._likeButton.addEventListener("click",(function(){!1===t._isLiked?new C({baseUrl:"cards/likes/".concat(t._idCard),method:"PUT",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(e){t._contLikes.textContent=e.likes.length})).catch((function(t){console.log(t)})).finally((function(e){t._isLiked=!t._isLiked,t._likeButton.classList.add("heart-button__icon_liked")})):!0===t._isLiked&&new C({baseUrl:"cards/likes/".concat(t._idCard),method:"DELETE",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(e){t._contLikes.textContent=e.likes.length})).catch((function(t){console.log(t)})).finally((function(e){t._isLiked=!t._isLiked,t._likeButton.classList.remove("heart-button__icon_liked")}))}))}}])&&Q(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Y(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==X(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===X(r)?r:String(r)),n)}var r}function Z(){return Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=et(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},Z.apply(this,arguments)}function $(t,e){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$(t,e)}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}var ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$(t,e)}(u,t);var e,o,n,r,c=(n=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=et(n);if(r){var o=et(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tt(t)}(this,t)});function u(t,e,o,n,r,i,l){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(s=c.call(this,t,e,o,n))._submitButtonPopUp=r,s._firstInputPopUp=i,s._secondInputPopUp=l,s._submitPopUp=s._submitPopUp.bind(tt(s)),s}return e=u,(o=[{key:"_addEvents",value:function(){Z(et(u.prototype),"_addEvents",this).call(this),this._submitButtonPopUp.addEventListener("click",this._submitPopUp)}},{key:"_removeEvents",value:function(){Z(et(u.prototype),"_removeEvents",this).call(this),this._submitButtonPopUp.removeEventListener("click",this._submitPopUp)}},{key:"_submitPopUp",value:function(){this._createCard()}},{key:"_createCard",value:function(){var t=this;this._submitButtonPopUp.textContent="Creando...",new C({baseUrl:"cards",method:"POST",body:JSON.stringify({name:this._firstInputPopUp.value,link:this._secondInputPopUp.value}),headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(t){var e=new W(t.name,t.link,t._id,t.likes,t.owner,".card-template").generateCard();i.prepend(e)})).catch((function(e){t._closePopUp(),console.log(e)})).finally((function(e){t._closePopUp(),t._submitButtonPopUp.textContent="Crear"}))}}])&&Y(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),u}(B);function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function rt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==nt(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===nt(r)?r:String(r)),n)}var r}function it(){return it="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lt(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},it.apply(this,arguments)}function ct(t,e){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ct(t,e)}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ct(t,e)}(c,t);var e,o,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lt(n);if(r){var o=lt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}(this,t)});function c(t,e,o,n,r,u,l,s,a){var f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(f=i.call(this,t,e,o,n))._submitButtonPopUp=r,f._firstInputPopUp=u,f._secondInputPopUp=l,f._firstLabelPopUp=s,f._secondLabelPopUp=a,f._submitPopUp=f._submitPopUp.bind(ut(f)),f}return e=c,(o=[{key:"_addEvents",value:function(){it(lt(c.prototype),"_addEvents",this).call(this),this._firstInputPopUp.value=this._firstLabelPopUp.textContent,this._secondInputPopUp.value=this._secondLabelPopUp.textContent,this._submitButtonPopUp.addEventListener("click",this._submitPopUp)}},{key:"_removeEvents",value:function(){it(lt(c.prototype),"_removeEvents",this).call(this),this._submitButtonPopUp.removeEventListener("click",this._submitPopUp)}},{key:"_submitPopUp",value:function(){var t=this;this._submitButtonPopUp.textContent="Editando...",new C({baseUrl:"users/me",method:"PATCH",body:JSON.stringify({name:this._firstInputPopUp.value,about:this._secondInputPopUp.value}),headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).profile().then((function(e){console.log("Resultado del perfil con los nuevos datos: "+e),t._firstLabelPopUp.textContent=e.name,t._secondLabelPopUp.textContent=e.about})).catch((function(e){t._closePopUp(),console.log(e)})).finally((function(){t._closePopUp(),t._submitButtonPopUp.textContent="Guardar",console.log("Se editó la información del perfil con exito")}))}}])&&rt(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(B);function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function ft(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==at(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===at(r)?r:String(r)),n)}var r}function pt(){return pt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bt(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},pt.apply(this,arguments)}function yt(t,e){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yt(t,e)}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}var ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(c,t);var e,o,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(n);if(r){var o=bt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===at(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}(this,t)});function c(t,e,o,n,r,u,l){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(s=i.call(this,t,e,o,n))._submitButtonPopUp=r,s._firstInputPopUp=u,s._photoEdit=l,s._submitPopUp=s._submitPopUp.bind(dt(s)),s}return e=c,(o=[{key:"_addEvents",value:function(){pt(bt(c.prototype),"_addEvents",this).call(this),this._submitButtonPopUp.addEventListener("click",this._submitPopUp)}},{key:"_removeEvents",value:function(){pt(bt(c.prototype),"_removeEvents",this).call(this),this._submitButtonPopUp.removeEventListener("click",this._submitPopUp)}},{key:"_submitPopUp",value:function(){var t=this;this._submitButtonPopUp.textContent="Editando...",new C({baseUrl:"users/me/avatar",method:"PATCH",body:JSON.stringify({avatar:this._firstInputPopUp.value}),headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).profile().then((function(e){console.log("Resultado de cambio de foto de perfil actualizado: "+e),t._photoEdit.src=e.avatar})).catch((function(e){t._closePopUp(),console.log(e)})).finally((function(){t._closePopUp(),t._submitButtonPopUp.textContent="Guardar",console.log("Se editó la foto de perfil con exito")}))}}])&&ft(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(B);function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function _t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==mt(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===mt(r)?r:String(r)),n)}var r}var vt=function(){function t(e,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._form=e,this._formElements=o}var e,o;return e=t,(o=[{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add("button_inactive"),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove("button_inactive"),this._buttonElement.disabled=!1)}},{key:"_showInputError",value:function(){this._errorElement=this._form.querySelector(".error_".concat(this._inputElementList.id)),this._inputElementList.classList.add("input_error-active"),this._errorElement.classList.add("error_active"),this._errorElement.textContent=this._inputElementList.validationMessage}},{key:"_hideInputError",value:function(){this._errorElement=this._form.querySelector(".error_".concat(this._inputElementList.id)),this._inputElementList.classList.remove("input_error-active"),this._errorElement.classList.remove("error_active"),this._errorElement.textContent=""}},{key:"_checkInputValidity",value:function(){this._inputElementList.validity.valid?this._hideInputError():this._showInputError()}},{key:"enableValidation",value:function(){var t=this;this._inputList=Array.from(this._formElements.querySelectorAll(".input")),this._buttonElement=this._formElements.querySelector(".button"),this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._inputElementList=e,t._checkInputValidity(),t._toggleButtonState()}))})),this._form.addEventListener("submit",(function(t){t.preventDefault()}))}}])&&_t(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function gt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==Pt(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==Pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Pt(r)?r:String(r)),n)}var r}var wt=function(){function t(e,o){var n=e.data,r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderedItems=n,this._renderer=r,this._container=o}var e,o;return e=t,(o=[{key:"addItem",value:function(t){this._container.append(t)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var t=this;this.clear(),this._renderedItems.forEach((function(e){t._renderer(e)}))}}])&&gt(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();new C({baseUrl:"cards",method:"GET",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(t){console.log("Lista de cards: "+t);var e=new wt({data:t,renderer:function(t){var o=new W(t.name,t.link,t._id,t.likes,t.owner,".card-template").generateCard();e.addItem(o)}},i);e.renderItems()})).catch((function(t){console.log(t)})).finally((function(){i.classList.remove("shimmer")})),new C({baseUrl:"users/me",method:"GET",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).profile().then((function(t){console.log(t),O.src=t.avatar,v.textContent=t.name,P.textContent=t.about})).catch((function(t){console.log(t)})).finally((function(){O.style.zIndex="0",m.classList.remove("shimmer"),v.classList.remove("shimmer"),P.classList.remove("shimmer")})),new st(t,"content-modal_visibility_visible",a,h,c,g,w,v,P).setEventListeners(),new ot(e,"content-modal_visibility_visible",f,b,u,S,E).setEventListeners(),new ht(o,"content-modal_visibility_visible",p,_,l,U,O).setEventListeners(),k.forEach((function(t){Array.from(t.querySelectorAll(".modal-form__set")).forEach((function(e){new vt(t,e).enableValidation()}))}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixFQUNBQyxHQUVha0gsb0JBTWZqSCxFQUFTeUcsU0FBUSxTQUFDc0UsR0FDSzlLLE1BQU1DLEtBQ3pCNkssRUFBWXJNLGlCQUFpQixxQkFFbEIrSCxTQUFRLFNBQUN1RSxHQUNQLElBQUl4QyxHQUFjdUMsRUFBYUMsR0FDdkNDLGtCQUNQLEdBQ0YsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcFVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wVXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3BVcERlbGV0ZUNhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wVXBXaXRoRm9ybUFkZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcFVwV2l0aEZvcm1FZGl0LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wVXBXaXRoUGhvdG9FZGl0LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbnRlbnRQb3BVcEVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnQtbW9kYWxfZWRpdFwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb250ZW50UG9wVXBBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnQtbW9kYWxfYWRkXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbnRlbnRQb3BVcEVkaXRQaG90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuY29udGVudC1tb2RhbF9lZGl0LXBob3RvXCJcclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb250ZW50UG9wVXBEZWxldGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5jb250ZW50LW1vZGFsX2RlbGV0ZS1jYXJkXCJcclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb250ZW50UG9wVXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuY29udGVudC1wb3AtdXBfaW1hZ2VcIlxyXG4pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRJbWFnZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhcmRcIik7XHJcbmV4cG9ydCBjb25zdCBjb250ZW50Q2FyZExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnQtcGhvdG9zXCIpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uU3VibWl0RWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX2VkaXRcIik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25TdWJtaXRBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl9hZGRcIik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25TdWJtaXRFZGl0UGhvdG8gPVxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX2VkaXQtcGhvdG9cIik7XHJcblxyXG5leHBvcnQgY29uc3QgYnV0dG9uU3VibWl0RGVsZXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuYnV0dG9uX2RlbGV0ZS1jYXJkXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkNsb3NlTW9kYWxFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5tb2RhbF9fYnV0dG9uLWNsb3NlX2VkaXRcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uQ2xvc2VNb2RhbEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIubW9kYWxfX2J1dHRvbi1jbG9zZV9hZGRcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uQ2xvc2VNb2RhbEVkaXRQaG90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIubW9kYWxfX2J1dHRvbi1jbG9zZV9lZGl0LXBob3RvXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkNsb3NlTW9kYWxEZWxldGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5tb2RhbF9fYnV0dG9uLWNsb3NlX2RlbGV0ZS1jYXJkXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkNsb3NlTW9kYWxJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wLXVwLXdpbmRvd19fYnV0dG9uLWNsb3NlXCJcclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBidXR0b25PcGVuTW9kYWxBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmNvbnRlbnQtcHJvZmlsZV9fYWRkLWJ1dHRvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25PcGVuTW9kYWxFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5jb250ZW50LXByb2YtaW5mby10ZXh0X19lZGl0LWJ1dHRvblwiXHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgcHJvZmlsZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlLWltYWdlXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGJ1dHRvbk9wZW5Nb2RhbEVkaXRQaG90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZS1pbWFnZV9fZWRpdC1pY29uXCJcclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBsYWJlbE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmNvbnRlbnQtcHJvZi1pbmZvLXRleHRfX25hbWVcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgbGFiZWxPY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmNvbnRlbnQtcHJvZi1pbmZvLXRleHRfX29jdXBhdGlvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBpbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlucHV0X25hbWVcIik7XHJcblxyXG5leHBvcnQgY29uc3QgaW5wdXRPY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlucHV0X29jdXBhdGlvblwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnB1dE5hbWVQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRfbmFtZS1wbGFjZVwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnB1dFVybFBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnB1dF91cmxcIik7XHJcblxyXG5leHBvcnQgY29uc3QgaW5wdXRVcmxFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnB1dF91cmwtZWRpdFwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwaG90b0VkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGUtaW1hZ2VfX2ltYWdlXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsLWZvcm1cIikpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbGxlIGRlIFlvc2VtaXRlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3lvc2VtaXRlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWtlLWxvdWlzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTW9udGHDsWFzIENhbHZhc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYXRlbWFyLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJQYXJxdWUgTmFjaW9uYWwgZGUgbGEgVmFub2lzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWdvLmpwZ1wiLFxyXG4gIH0sXHJcbl07XHJcbiIsImV4cG9ydCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XHJcbiAgICB0aGlzLl9tZXRob2QgPSBvcHRpb25zLm1ldGhvZDtcclxuICAgIHRoaXMuX2JvZHkgPSBvcHRpb25zLmJvZHk7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgY2FyZCgpIHtcclxuICAgIHJldHVybiBmZXRjaChcclxuICAgICAgYGh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzA4LyR7dGhpcy5fYmFzZVVybH1gLFxyXG4gICAgICB7XHJcbiAgICAgICAgbWV0aG9kOiB0aGlzLl9tZXRob2QsXHJcbiAgICAgICAgYm9keTogdGhpcy5fYm9keSxcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9XHJcbiAgICApLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvciBhbCBjcmVhciB0YXJqZXRhOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByb2ZpbGUoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goXHJcbiAgICAgIGBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wOC8ke3RoaXMuX2Jhc2VVcmx9YCxcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogdGhpcy5fbWV0aG9kLFxyXG4gICAgICAgIGJvZHk6IHRoaXMuX2JvZHksXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfVxyXG4gICAgKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3IgYWwgYWN0dWFsaXphciBwZXJmaWw6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgUG9wVXAge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgY29udGVudFBvcFVwLFxyXG4gICAgY29udGVudFBvcFVwU2VsZWN0b3IsXHJcbiAgICBjbG9zZUJ1dHRvblBvcFVwLFxyXG4gICAgb3BlbkJ1dHRvblBvcFVwXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9jb250ZW50UG9wVXAgPSBjb250ZW50UG9wVXA7XHJcbiAgICB0aGlzLl9jb250ZW50UG9wVXBTZWxlY3RvciA9IGNvbnRlbnRQb3BVcFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b25Qb3BVcCA9IGNsb3NlQnV0dG9uUG9wVXA7XHJcbiAgICB0aGlzLl9vcGVuQnV0dG9uUG9wVXAgPSBvcGVuQnV0dG9uUG9wVXA7XHJcblxyXG4gICAgdGhpcy5fY2xvc2VQb3BVcEtleURvd24gPSB0aGlzLl9jbG9zZVBvcFVwS2V5RG93bi5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5fY2xvc2VQb3BVcE91dHNpZGVDbGljayA9IHRoaXMuX2Nsb3NlUG9wVXBPdXRzaWRlQ2xpY2suYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX29wZW5Qb3BVcCA9IHRoaXMuX29wZW5Qb3BVcC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5fY2xvc2VQb3BVcCA9IHRoaXMuX2Nsb3NlUG9wVXAuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVQb3BVcCgpIHtcclxuICAgIHRoaXMuX2NvbnRlbnRQb3BVcC5jbGFzc0xpc3QudG9nZ2xlKHRoaXMuX2NvbnRlbnRQb3BVcFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIF9lbmFibGVTY3JvbGwoKSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XHJcbiAgfVxyXG5cclxuICBfZGlzYWJsZVNjcm9sbCgpIHtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gIH1cclxuXHJcbiAgX2FkZEV2ZW50cygpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2Nsb3NlUG9wVXBLZXlEb3duKTtcclxuICAgIHRoaXMuX2NvbnRlbnRQb3BVcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fY2xvc2VQb3BVcE91dHNpZGVDbGljayk7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvblBvcFVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9jbG9zZVBvcFVwKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVFdmVudHMoKSB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9jbG9zZVBvcFVwS2V5RG93bik7XHJcbiAgICB0aGlzLl9jb250ZW50UG9wVXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJjbGlja1wiLFxyXG4gICAgICB0aGlzLl9jbG9zZVBvcFVwT3V0c2lkZUNsaWNrXHJcbiAgICApO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b25Qb3BVcC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fY2xvc2VQb3BVcCk7XHJcbiAgfVxyXG5cclxuICBfY2xvc2VQb3BVcEtleURvd24oZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLl9jbG9zZVBvcFVwKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfY2xvc2VQb3BVcE91dHNpZGVDbGljayhldnQpIHtcclxuICAgIGlmIChldnQudGFyZ2V0ID09PSB0aGlzLl9jb250ZW50UG9wVXApIHtcclxuICAgICAgdGhpcy5fY2xvc2VQb3BVcCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX29wZW5Qb3BVcCgpIHtcclxuICAgIHRoaXMuX2Rpc2FibGVTY3JvbGwoKTtcclxuICAgIHRoaXMuX3RvZ2dsZVBvcFVwKCk7XHJcbiAgICB0aGlzLl9hZGRFdmVudHMoKTtcclxuICB9XHJcblxyXG4gIF9jbG9zZVBvcFVwKCkge1xyXG4gICAgdGhpcy5fZW5hYmxlU2Nyb2xsKCk7XHJcbiAgICB0aGlzLl90b2dnbGVQb3BVcCgpO1xyXG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRzKCk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX29wZW5CdXR0b25Qb3BVcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fb3BlblBvcFVwKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wVXAgfSBmcm9tIFwiLi9Qb3BVcC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcFVwV2l0aEltYWdlIGV4dGVuZHMgUG9wVXAge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgY29udGVudFBvcFVwLFxyXG4gICAgY29udGVudFBvcFVwU2VsZWN0b3IsXHJcbiAgICBjbG9zZUJ1dHRvblBvcFVwLFxyXG4gICAgc3JjLFxyXG4gICAgdGV4dENvbnRlbnRcclxuICApIHtcclxuICAgIHN1cGVyKGNvbnRlbnRQb3BVcCwgY29udGVudFBvcFVwU2VsZWN0b3IsIGNsb3NlQnV0dG9uUG9wVXApO1xyXG4gICAgdGhpcy5fc3JjID0gc3JjO1xyXG4gICAgdGhpcy5fdGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudDtcclxuICB9XHJcblxyXG4gIF9hZGRFdmVudHMoKSB7XHJcbiAgICBzdXBlci5fYWRkRXZlbnRzKCk7XHJcbiAgICB0aGlzLl9jb250ZW50UG9wVXAuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMV0uc3JjID0gdGhpcy5fc3JjO1xyXG4gICAgdGhpcy5fY29udGVudFBvcFVwLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzJdLnRleHRDb250ZW50ID0gdGhpcy5fdGV4dENvbnRlbnQ7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX29wZW5Qb3BVcCgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3BVcCB9IGZyb20gXCIuL1BvcFVwLmpzXCI7XHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcFVwRGVsZXRlQ2FyZCBleHRlbmRzIFBvcFVwIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGNvbnRlbnRQb3BVcCxcclxuICAgIGNvbnRlbnRQb3BVcFNlbGVjdG9yLFxyXG4gICAgY2xvc2VCdXR0b25Qb3BVcCxcclxuICAgIHN1Ym1pdEJ1dHRvblBvcFVwLFxyXG4gICAgY2FyZCxcclxuICAgIGlkQ2FyZFxyXG4gICkge1xyXG4gICAgc3VwZXIoY29udGVudFBvcFVwLCBjb250ZW50UG9wVXBTZWxlY3RvciwgY2xvc2VCdXR0b25Qb3BVcCk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcCA9IHN1Ym1pdEJ1dHRvblBvcFVwO1xyXG4gICAgdGhpcy5fY2FyZCA9IGNhcmQ7XHJcbiAgICB0aGlzLl9pZENhcmQgPSBpZENhcmQ7XHJcbiAgICB0aGlzLl9zdWJtaXRQb3BVcCA9IHRoaXMuX3N1Ym1pdFBvcFVwLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfYWRkRXZlbnRzKCkge1xyXG4gICAgc3VwZXIuX2FkZEV2ZW50cygpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX3N1Ym1pdFBvcFVwKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVFdmVudHMoKSB7XHJcbiAgICBzdXBlci5fcmVtb3ZlRXZlbnRzKCk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fc3VibWl0UG9wVXApO1xyXG4gIH1cclxuXHJcbiAgX3N1Ym1pdFBvcFVwKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAudGV4dENvbnRlbnQgPSBcIkVsaW1pbmFuZG8uLi5cIjtcclxuICAgIGNvbnN0IGRlbGV0ZUNhcmQgPSBuZXcgQXBpKHtcclxuICAgICAgYmFzZVVybDogYGNhcmRzLyR7dGhpcy5faWRDYXJkfWAsXHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgYm9keTogbnVsbCxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiMjhkMWY3N2ItMzYwNS00NDlmLWJmMTYtMjBhNTIxNmY4ZmRiXCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBkZWxldGVDYXJkXHJcbiAgICAgIC5jYXJkKClcclxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VQb3BVcCgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICB0aGlzLl9jbG9zZVBvcFVwKCk7XHJcbiAgICAgICAgdGhpcy5fY2FyZC5yZW1vdmUoKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC50ZXh0Q29udGVudCA9IFwiRWxpbWluYXJcIjtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX29wZW5Qb3BVcCgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIGNvbnRlbnRQb3BVcEltYWdlLFxyXG4gIGNvbnRlbnRQb3BVcERlbGV0ZUNhcmQsXHJcbiAgYnV0dG9uQ2xvc2VNb2RhbEltYWdlLFxyXG4gIGJ1dHRvbkNsb3NlTW9kYWxEZWxldGVDYXJkLFxyXG4gIGJ1dHRvblN1Ym1pdERlbGV0ZUNhcmQsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBQb3BVcFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcFVwV2l0aEltYWdlLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBQb3BVcERlbGV0ZUNhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3BVcERlbGV0ZUNhcmQuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lLCBsaW5rLCBpZENhcmQsIGxpa2VzLCB1c2VyLCBjYXJkU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3RpdGxlID0gbmFtZTtcclxuICAgIHRoaXMuX2ltYWdlID0gbGluaztcclxuICAgIHRoaXMuX2lkQ2FyZCA9IGlkQ2FyZDtcclxuICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XHJcbiAgICB0aGlzLl9pc0xpa2VkID0gZmFsc2U7XHJcbiAgICB0aGlzLl91c2VyID0gdXNlcjtcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICB0aGlzLl9jYXJkUGhvdG9JdGVtID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19waG90by1pdGVtXCIpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuY29udGVudC1mb290ZXItY2FyZF9fdGl0bGVcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmNhcmRfX2J1dHRvbi1kZWxldGVcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYXJ0LWJ1dHRvbl9faWNvblwiKTtcclxuICAgIHRoaXMuX2NvbnRMaWtlcyA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmNvbnRlbnQtZm9vdGVyLWNhcmRfX2xpa2VzXCJcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5fbGlrZXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICBpZiAoZWxlbWVudC5faWQgPT09IHRoaXMuX3VzZXIuX2lkKSB7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaGVhcnQtYnV0dG9uX19pY29uX2xpa2VkXCIpO1xyXG4gICAgICAgIHRoaXMuX2lzTGlrZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9jYXJkUGhvdG9JdGVtLnNyYyA9IHRoaXMuX2ltYWdlO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fdGl0bGU7XHJcbiAgICB0aGlzLl9jb250TGlrZXMudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9jcmVhdGVDYXJkcygpIHt9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2NhcmRQaG90b0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3BVcFdpdGhJbWFnZShcclxuICAgICAgICBjb250ZW50UG9wVXBJbWFnZSxcclxuICAgICAgICBcImNvbnRlbnQtcG9wLXVwX3Zpc2liaWxpdHlfdmlzaWJsZVwiLFxyXG4gICAgICAgIGJ1dHRvbkNsb3NlTW9kYWxJbWFnZSxcclxuICAgICAgICB0aGlzLl9pbWFnZSxcclxuICAgICAgICB0aGlzLl90aXRsZVxyXG4gICAgICApO1xyXG4gICAgICBwb3B1cEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgY29uc3QgcG9wdXBEZWxldGUgPSBuZXcgUG9wVXBEZWxldGVDYXJkKFxyXG4gICAgICAgIGNvbnRlbnRQb3BVcERlbGV0ZUNhcmQsXHJcbiAgICAgICAgXCJjb250ZW50LW1vZGFsX3Zpc2liaWxpdHlfdmlzaWJsZVwiLFxyXG4gICAgICAgIGJ1dHRvbkNsb3NlTW9kYWxEZWxldGVDYXJkLFxyXG4gICAgICAgIGJ1dHRvblN1Ym1pdERlbGV0ZUNhcmQsXHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCxcclxuICAgICAgICB0aGlzLl9pZENhcmRcclxuICAgICAgKTtcclxuICAgICAgcG9wdXBEZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuX2lzTGlrZWQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgbGlrZUNhcmQgPSBuZXcgQXBpKHtcclxuICAgICAgICAgIGJhc2VVcmw6IGBjYXJkcy9saWtlcy8ke3RoaXMuX2lkQ2FyZH1gLFxyXG4gICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgICAgYm9keTogbnVsbCxcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogXCIyOGQxZjc3Yi0zNjA1LTQ0OWYtYmYxNi0yMGE1MjE2ZjhmZGJcIixcclxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpa2VDYXJkXHJcbiAgICAgICAgICAuY2FyZCgpXHJcbiAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRMaWtlcy50ZXh0Q29udGVudCA9IHJlc3VsdC5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuZmluYWxseSgocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzTGlrZWQgPSAhdGhpcy5faXNMaWtlZDtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaGVhcnQtYnV0dG9uX19pY29uX2xpa2VkXCIpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5faXNMaWtlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IGRlbGV0ZUxpa2VDYXJkID0gbmV3IEFwaSh7XHJcbiAgICAgICAgICBiYXNlVXJsOiBgY2FyZHMvbGlrZXMvJHt0aGlzLl9pZENhcmR9YCxcclxuICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICAgIGJvZHk6IG51bGwsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiMjhkMWY3N2ItMzYwNS00NDlmLWJmMTYtMjBhNTIxNmY4ZmRiXCIsXHJcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBkZWxldGVMaWtlQ2FyZFxyXG4gICAgICAgICAgLmNhcmQoKVxyXG4gICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9jb250TGlrZXMudGV4dENvbnRlbnQgPSByZXN1bHQubGlrZXMubGVuZ3RoO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmZpbmFsbHkoKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0xpa2VkID0gIXRoaXMuX2lzTGlrZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImhlYXJ0LWJ1dHRvbl9faWNvbl9saWtlZFwiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wVXAgfSBmcm9tIFwiLi9Qb3BVcC5qc1wiO1xyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4vQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBjb250ZW50Q2FyZExpc3QgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcFVwV2l0aEZvcm1BZGQgZXh0ZW5kcyBQb3BVcCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBjb250ZW50UG9wVXAsXHJcbiAgICBjb250ZW50UG9wVXBTZWxlY3RvcixcclxuICAgIGNsb3NlQnV0dG9uUG9wVXAsXHJcbiAgICBvcGVuQnV0dG9uUG9wVXAsXHJcbiAgICBzdWJtaXRCdXR0b25Qb3BVcCxcclxuICAgIGZpcnN0SW5wdXRQb3BVcCxcclxuICAgIHNlY29uZElucHV0UG9wVXBcclxuICApIHtcclxuICAgIHN1cGVyKFxyXG4gICAgICBjb250ZW50UG9wVXAsXHJcbiAgICAgIGNvbnRlbnRQb3BVcFNlbGVjdG9yLFxyXG4gICAgICBjbG9zZUJ1dHRvblBvcFVwLFxyXG4gICAgICBvcGVuQnV0dG9uUG9wVXBcclxuICAgICk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcCA9IHN1Ym1pdEJ1dHRvblBvcFVwO1xyXG4gICAgdGhpcy5fZmlyc3RJbnB1dFBvcFVwID0gZmlyc3RJbnB1dFBvcFVwO1xyXG4gICAgdGhpcy5fc2Vjb25kSW5wdXRQb3BVcCA9IHNlY29uZElucHV0UG9wVXA7XHJcblxyXG4gICAgdGhpcy5fc3VibWl0UG9wVXAgPSB0aGlzLl9zdWJtaXRQb3BVcC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2FkZEV2ZW50cygpIHtcclxuICAgIHN1cGVyLl9hZGRFdmVudHMoKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9zdWJtaXRQb3BVcCk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRzKCkge1xyXG4gICAgc3VwZXIuX3JlbW92ZUV2ZW50cygpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX3N1Ym1pdFBvcFVwKTtcclxuICB9XHJcblxyXG4gIF9zdWJtaXRQb3BVcCgpIHtcclxuICAgIHRoaXMuX2NyZWF0ZUNhcmQoKTtcclxuICB9XHJcblxyXG4gIF9jcmVhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAudGV4dENvbnRlbnQgPSBcIkNyZWFuZG8uLi5cIjtcclxuICAgIGNvbnN0IGNyZWF0ZUNhcmQgPSBuZXcgQXBpKHtcclxuICAgICAgYmFzZVVybDogXCJjYXJkc1wiLFxyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogdGhpcy5fZmlyc3RJbnB1dFBvcFVwLnZhbHVlLFxyXG4gICAgICAgIGxpbms6IHRoaXMuX3NlY29uZElucHV0UG9wVXAudmFsdWUsXHJcbiAgICAgIH0pLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCIyOGQxZjc3Yi0zNjA1LTQ0OWYtYmYxNi0yMGE1MjE2ZjhmZGJcIixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgY3JlYXRlQ2FyZFxyXG4gICAgICAuY2FyZCgpXHJcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoXHJcbiAgICAgICAgICByZXN1bHQubmFtZSxcclxuICAgICAgICAgIHJlc3VsdC5saW5rLFxyXG4gICAgICAgICAgcmVzdWx0Ll9pZCxcclxuICAgICAgICAgIHJlc3VsdC5saWtlcyxcclxuICAgICAgICAgIHJlc3VsdC5vd25lcixcclxuICAgICAgICAgIFwiLmNhcmQtdGVtcGxhdGVcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3QgbmV3Q2FyZEVsZW1lbnQgPSBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gICAgICAgIGNvbnRlbnRDYXJkTGlzdC5wcmVwZW5kKG5ld0NhcmRFbGVtZW50KTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICB0aGlzLl9jbG9zZVBvcFVwKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlUG9wVXAoKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC50ZXh0Q29udGVudCA9IFwiQ3JlYXJcIjtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcFVwIH0gZnJvbSBcIi4vUG9wVXAuanNcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wVXBXaXRoRm9ybUVkaXQgZXh0ZW5kcyBQb3BVcCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBjb250ZW50UG9wVXAsXHJcbiAgICBjb250ZW50UG9wVXBTZWxlY3RvcixcclxuICAgIGNsb3NlQnV0dG9uUG9wVXAsXHJcbiAgICBvcGVuQnV0dG9uUG9wVXAsXHJcbiAgICBzdWJtaXRCdXR0b25Qb3BVcCxcclxuICAgIGZpcnN0SW5wdXRQb3BVcCxcclxuICAgIHNlY29uZElucHV0UG9wVXAsXHJcbiAgICBmaXJzdExhYmVsUG9wVXAsXHJcbiAgICBzZWNvbmRMYWJlbFBvcFVwXHJcbiAgKSB7XHJcbiAgICBzdXBlcihcclxuICAgICAgY29udGVudFBvcFVwLFxyXG4gICAgICBjb250ZW50UG9wVXBTZWxlY3RvcixcclxuICAgICAgY2xvc2VCdXR0b25Qb3BVcCxcclxuICAgICAgb3BlbkJ1dHRvblBvcFVwXHJcbiAgICApO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAgPSBzdWJtaXRCdXR0b25Qb3BVcDtcclxuICAgIHRoaXMuX2ZpcnN0SW5wdXRQb3BVcCA9IGZpcnN0SW5wdXRQb3BVcDtcclxuICAgIHRoaXMuX3NlY29uZElucHV0UG9wVXAgPSBzZWNvbmRJbnB1dFBvcFVwO1xyXG4gICAgdGhpcy5fZmlyc3RMYWJlbFBvcFVwID0gZmlyc3RMYWJlbFBvcFVwO1xyXG4gICAgdGhpcy5fc2Vjb25kTGFiZWxQb3BVcCA9IHNlY29uZExhYmVsUG9wVXA7XHJcblxyXG4gICAgdGhpcy5fc3VibWl0UG9wVXAgPSB0aGlzLl9zdWJtaXRQb3BVcC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2FkZEV2ZW50cygpIHtcclxuICAgIHN1cGVyLl9hZGRFdmVudHMoKTtcclxuICAgIHRoaXMuX2ZpcnN0SW5wdXRQb3BVcC52YWx1ZSA9IHRoaXMuX2ZpcnN0TGFiZWxQb3BVcC50ZXh0Q29udGVudDtcclxuICAgIHRoaXMuX3NlY29uZElucHV0UG9wVXAudmFsdWUgPSB0aGlzLl9zZWNvbmRMYWJlbFBvcFVwLnRleHRDb250ZW50O1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX3N1Ym1pdFBvcFVwKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVFdmVudHMoKSB7XHJcbiAgICBzdXBlci5fcmVtb3ZlRXZlbnRzKCk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fc3VibWl0UG9wVXApO1xyXG4gIH1cclxuXHJcbiAgX3N1Ym1pdFBvcFVwKCkge1xyXG4gICAgLy9KYWNxdWVzIENvdXN0ZWF1XHJcbiAgICAvL1NhaWxvciwgcmVzZWFyY2hlclxyXG5cclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLnRleHRDb250ZW50ID0gXCJFZGl0YW5kby4uLlwiO1xyXG5cclxuICAgIGNvbnN0IGVkaXRQaG90b1Byb2ZpbGUgPSBuZXcgQXBpKHtcclxuICAgICAgYmFzZVVybDogYHVzZXJzL21lYCxcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiB0aGlzLl9maXJzdElucHV0UG9wVXAudmFsdWUsXHJcbiAgICAgICAgYWJvdXQ6IHRoaXMuX3NlY29uZElucHV0UG9wVXAudmFsdWUsXHJcbiAgICAgIH0pLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCIyOGQxZjc3Yi0zNjA1LTQ0OWYtYmYxNi0yMGE1MjE2ZjhmZGJcIixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGVkaXRQaG90b1Byb2ZpbGVcclxuICAgICAgLnByb2ZpbGUoKVxyXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSZXN1bHRhZG8gZGVsIHBlcmZpbCBjb24gbG9zIG51ZXZvcyBkYXRvczogXCIgKyByZXN1bHQpO1xyXG4gICAgICAgIHRoaXMuX2ZpcnN0TGFiZWxQb3BVcC50ZXh0Q29udGVudCA9IHJlc3VsdC5uYW1lO1xyXG4gICAgICAgIHRoaXMuX3NlY29uZExhYmVsUG9wVXAudGV4dENvbnRlbnQgPSByZXN1bHQuYWJvdXQ7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VQb3BVcCgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICB0aGlzLl9jbG9zZVBvcFVwKCk7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAudGV4dENvbnRlbnQgPSBcIkd1YXJkYXJcIjtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNlIGVkaXTDsyBsYSBpbmZvcm1hY2nDs24gZGVsIHBlcmZpbCBjb24gZXhpdG9cIik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3BVcCB9IGZyb20gXCIuL1BvcFVwLmpzXCI7XHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcFVwV2l0aFBob3RvRWRpdCBleHRlbmRzIFBvcFVwIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGNvbnRlbnRQb3BVcCxcclxuICAgIGNvbnRlbnRQb3BVcFNlbGVjdG9yLFxyXG4gICAgY2xvc2VCdXR0b25Qb3BVcCxcclxuICAgIG9wZW5CdXR0b25Qb3BVcCxcclxuICAgIHN1Ym1pdEJ1dHRvblBvcFVwLFxyXG4gICAgZmlyc3RJbnB1dFBvcFVwLFxyXG4gICAgcGhvdG9FZGl0XHJcbiAgKSB7XHJcbiAgICBzdXBlcihcclxuICAgICAgY29udGVudFBvcFVwLFxyXG4gICAgICBjb250ZW50UG9wVXBTZWxlY3RvcixcclxuICAgICAgY2xvc2VCdXR0b25Qb3BVcCxcclxuICAgICAgb3BlbkJ1dHRvblBvcFVwXHJcbiAgICApO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAgPSBzdWJtaXRCdXR0b25Qb3BVcDtcclxuICAgIHRoaXMuX2ZpcnN0SW5wdXRQb3BVcCA9IGZpcnN0SW5wdXRQb3BVcDtcclxuICAgIHRoaXMuX3Bob3RvRWRpdCA9IHBob3RvRWRpdDtcclxuXHJcbiAgICB0aGlzLl9zdWJtaXRQb3BVcCA9IHRoaXMuX3N1Ym1pdFBvcFVwLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfYWRkRXZlbnRzKCkge1xyXG4gICAgc3VwZXIuX2FkZEV2ZW50cygpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX3N1Ym1pdFBvcFVwKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVFdmVudHMoKSB7XHJcbiAgICBzdXBlci5fcmVtb3ZlRXZlbnRzKCk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fc3VibWl0UG9wVXApO1xyXG4gIH1cclxuXHJcbiAgX3N1Ym1pdFBvcFVwKCkge1xyXG4gICAgLy9odHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NvbW1vbi9hdmEuanBnXHJcblxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAudGV4dENvbnRlbnQgPSBcIkVkaXRhbmRvLi4uXCI7XHJcblxyXG4gICAgY29uc3QgZWRpdFBob3RvUHJvZmlsZSA9IG5ldyBBcGkoe1xyXG4gICAgICBiYXNlVXJsOiBgdXNlcnMvbWUvYXZhdGFyYCxcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IHRoaXMuX2ZpcnN0SW5wdXRQb3BVcC52YWx1ZSxcclxuICAgICAgfSksXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcIjI4ZDFmNzdiLTM2MDUtNDQ5Zi1iZjE2LTIwYTUyMTZmOGZkYlwiLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgZWRpdFBob3RvUHJvZmlsZVxyXG4gICAgICAucHJvZmlsZSgpXHJcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgIFwiUmVzdWx0YWRvIGRlIGNhbWJpbyBkZSBmb3RvIGRlIHBlcmZpbCBhY3R1YWxpemFkbzogXCIgKyByZXN1bHRcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuX3Bob3RvRWRpdC5zcmMgPSByZXN1bHQuYXZhdGFyO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlUG9wVXAoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VQb3BVcCgpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLnRleHRDb250ZW50ID0gXCJHdWFyZGFyXCI7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTZSBlZGl0w7MgbGEgZm90byBkZSBwZXJmaWwgY29uIGV4aXRvXCIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGZvcm0sIGZvcm1FbGVtZW50cykge1xyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudHMgPSBmb3JtRWxlbWVudHM7XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJidXR0b25faW5hY3RpdmVcIik7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYnV0dG9uX2luYWN0aXZlXCIpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoKSB7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuZXJyb3JfJHt0aGlzLl9pbnB1dEVsZW1lbnRMaXN0LmlkfWBcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRFbGVtZW50TGlzdC5jbGFzc0xpc3QuYWRkKFwiaW5wdXRfZXJyb3ItYWN0aXZlXCIpO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJlcnJvcl9hY3RpdmVcIik7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9pbnB1dEVsZW1lbnRMaXN0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKCkge1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLmVycm9yXyR7dGhpcy5faW5wdXRFbGVtZW50TGlzdC5pZH1gXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuX2lucHV0RWxlbWVudExpc3QuY2xhc3NMaXN0LnJlbW92ZShcImlucHV0X2Vycm9yLWFjdGl2ZVwiKTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JfYWN0aXZlXCIpO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoKSB7XHJcbiAgICBpZiAoIXRoaXMuX2lucHV0RWxlbWVudExpc3QudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudHMucXVlcnlTZWxlY3RvckFsbChcIi5pbnB1dFwiKSk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnRzLnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uXCIpO1xyXG5cclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9pbnB1dEVsZW1lbnRMaXN0ID0gaW5wdXRFbGVtZW50O1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eSgpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBkYXRhO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIC8vdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuY2xlYXIoKTtcclxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgXCIuL3N0eWxlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHtcclxuICBjb250ZW50Q2FyZExpc3QsXHJcbiAgZm9ybUxpc3QsXHJcbiAgY29udGVudFBvcFVwRWRpdCxcclxuICBjb250ZW50UG9wVXBBZGQsXHJcbiAgY29udGVudFBvcFVwRWRpdFBob3RvLFxyXG4gIGJ1dHRvbkNsb3NlTW9kYWxFZGl0LFxyXG4gIGJ1dHRvbkNsb3NlTW9kYWxBZGQsXHJcbiAgYnV0dG9uQ2xvc2VNb2RhbEVkaXRQaG90byxcclxuICBidXR0b25PcGVuTW9kYWxFZGl0LFxyXG4gIGJ1dHRvbk9wZW5Nb2RhbEFkZCxcclxuICBidXR0b25PcGVuTW9kYWxFZGl0UGhvdG8sXHJcbiAgYnV0dG9uU3VibWl0RWRpdCxcclxuICBidXR0b25TdWJtaXRBZGQsXHJcbiAgYnV0dG9uU3VibWl0RWRpdFBob3RvLFxyXG4gIGlucHV0TmFtZSxcclxuICBpbnB1dE9jdXBhdGlvbixcclxuICBwcm9maWxlSW1hZ2UsXHJcbiAgbGFiZWxOYW1lLFxyXG4gIGxhYmVsT2N1cGF0aW9uLFxyXG4gIGlucHV0TmFtZVBsYWNlLFxyXG4gIGlucHV0VXJsUGxhY2UsXHJcbiAgaW5wdXRVcmxFZGl0LFxyXG4gIHBob3RvRWRpdCxcclxufSBmcm9tIFwiLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuXHJcbmltcG9ydCB7IFBvcFVwV2l0aEZvcm1BZGQgfSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcFVwV2l0aEZvcm1BZGQuanNcIjtcclxuXHJcbmltcG9ydCB7IFBvcFVwV2l0aEZvcm1FZGl0IH0gZnJvbSBcIi4vY29tcG9uZW50cy9Qb3BVcFdpdGhGb3JtRWRpdC5qc1wiO1xyXG5cclxuaW1wb3J0IHsgUG9wVXBXaXRoUGhvdG9FZGl0IH0gZnJvbSBcIi4vY29tcG9uZW50cy9Qb3BVcFdpdGhQaG90b0VkaXQuanNcIjtcclxuXHJcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuXHJcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuXHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCIuL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG5jb25zdCBnZXRDYXJkcyA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiY2FyZHNcIixcclxuICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgYm9keTogbnVsbCxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjI4ZDFmNzdiLTM2MDUtNDQ5Zi1iZjE2LTIwYTUyMTZmOGZkYlwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG5nZXRDYXJkc1xyXG4gIC5jYXJkKClcclxuICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkxpc3RhIGRlIGNhcmRzOiBcIiArIHJlc3VsdCk7XHJcbiAgICBjb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICB7XHJcbiAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgICAgICAgICBpdGVtLm5hbWUsXHJcbiAgICAgICAgICAgIGl0ZW0ubGluayxcclxuICAgICAgICAgICAgaXRlbS5faWQsXHJcbiAgICAgICAgICAgIGl0ZW0ubGlrZXMsXHJcbiAgICAgICAgICAgIGl0ZW0ub3duZXIsXHJcbiAgICAgICAgICAgIFwiLmNhcmQtdGVtcGxhdGVcIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbnRlbnRDYXJkTGlzdFxyXG4gICAgKTtcclxuXHJcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSlcclxuICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICBjb250ZW50Q2FyZExpc3QuY2xhc3NMaXN0LnJlbW92ZShcInNoaW1tZXJcIik7XHJcbiAgfSk7XHJcblxyXG5jb25zdCBnZXRJbmZvcm1hdGlvblByb2ZpbGUgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcInVzZXJzL21lXCIsXHJcbiAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gIGJvZHk6IG51bGwsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCIyOGQxZjc3Yi0zNjA1LTQ0OWYtYmYxNi0yMGE1MjE2ZjhmZGJcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZ2V0SW5mb3JtYXRpb25Qcm9maWxlXHJcbiAgLnByb2ZpbGUoKVxyXG4gIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICBwaG90b0VkaXQuc3JjID0gcmVzdWx0LmF2YXRhcjtcclxuICAgIGxhYmVsTmFtZS50ZXh0Q29udGVudCA9IHJlc3VsdC5uYW1lO1xyXG4gICAgbGFiZWxPY3VwYXRpb24udGV4dENvbnRlbnQgPSByZXN1bHQuYWJvdXQ7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KVxyXG4gIC5maW5hbGx5KCgpID0+IHtcclxuICAgIHBob3RvRWRpdC5zdHlsZS56SW5kZXggPSBcIjBcIjtcclxuICAgIHByb2ZpbGVJbWFnZS5jbGFzc0xpc3QucmVtb3ZlKFwic2hpbW1lclwiKTtcclxuICAgIGxhYmVsTmFtZS5jbGFzc0xpc3QucmVtb3ZlKFwic2hpbW1lclwiKTtcclxuICAgIGxhYmVsT2N1cGF0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJzaGltbWVyXCIpO1xyXG4gIH0pO1xyXG5cclxuY29uc3QgcmVuZGVyUG9wVXBzID0gKCkgPT4ge1xyXG4gIGNvbnN0IFBvcFVwRm9ybUVkaXQgPSBuZXcgUG9wVXBXaXRoRm9ybUVkaXQoXHJcbiAgICBjb250ZW50UG9wVXBFZGl0LFxyXG4gICAgXCJjb250ZW50LW1vZGFsX3Zpc2liaWxpdHlfdmlzaWJsZVwiLFxyXG4gICAgYnV0dG9uQ2xvc2VNb2RhbEVkaXQsXHJcbiAgICBidXR0b25PcGVuTW9kYWxFZGl0LFxyXG4gICAgYnV0dG9uU3VibWl0RWRpdCxcclxuICAgIGlucHV0TmFtZSxcclxuICAgIGlucHV0T2N1cGF0aW9uLFxyXG4gICAgbGFiZWxOYW1lLFxyXG4gICAgbGFiZWxPY3VwYXRpb25cclxuICApO1xyXG4gIFBvcFVwRm9ybUVkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgY29uc3QgUG9wVXBGb3JtQWRkID0gbmV3IFBvcFVwV2l0aEZvcm1BZGQoXHJcbiAgICBjb250ZW50UG9wVXBBZGQsXHJcbiAgICBcImNvbnRlbnQtbW9kYWxfdmlzaWJpbGl0eV92aXNpYmxlXCIsXHJcbiAgICBidXR0b25DbG9zZU1vZGFsQWRkLFxyXG4gICAgYnV0dG9uT3Blbk1vZGFsQWRkLFxyXG4gICAgYnV0dG9uU3VibWl0QWRkLFxyXG4gICAgaW5wdXROYW1lUGxhY2UsXHJcbiAgICBpbnB1dFVybFBsYWNlXHJcbiAgKTtcclxuICBQb3BVcEZvcm1BZGQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgY29uc3QgUG9wVXBQaG90b0VkaXQgPSBuZXcgUG9wVXBXaXRoUGhvdG9FZGl0KFxyXG4gICAgY29udGVudFBvcFVwRWRpdFBob3RvLFxyXG4gICAgXCJjb250ZW50LW1vZGFsX3Zpc2liaWxpdHlfdmlzaWJsZVwiLFxyXG4gICAgYnV0dG9uQ2xvc2VNb2RhbEVkaXRQaG90byxcclxuICAgIGJ1dHRvbk9wZW5Nb2RhbEVkaXRQaG90byxcclxuICAgIGJ1dHRvblN1Ym1pdEVkaXRQaG90byxcclxuICAgIGlucHV0VXJsRWRpdCxcclxuICAgIHBob3RvRWRpdFxyXG4gICk7XHJcbiAgUG9wVXBQaG90b0VkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxufTtcclxuXHJcbnJlbmRlclBvcFVwcygpO1xyXG5cclxuY29uc3QgcmVuZGVyRm9ybVZhbGlkYXRvciA9ICgpID0+IHtcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgZmllbGRzZXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbC1mb3JtX19zZXRcIilcclxuICAgICk7XHJcbiAgICBmaWVsZHNldExpc3QuZm9yRWFjaCgoZmllbGRzZXQpID0+IHtcclxuICAgICAgY29uc3QgZm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtZW50LCBmaWVsZHNldCk7XHJcbiAgICAgIGZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5yZW5kZXJGb3JtVmFsaWRhdG9yKCk7XHJcbiJdLCJuYW1lcyI6WyJjb250ZW50UG9wVXBFZGl0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudFBvcFVwQWRkIiwiY29udGVudFBvcFVwRWRpdFBob3RvIiwiY29udGVudFBvcFVwRGVsZXRlQ2FyZCIsImNvbnRlbnRQb3BVcEltYWdlIiwiY29udGVudENhcmRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsImJ1dHRvblN1Ym1pdEVkaXQiLCJidXR0b25TdWJtaXRBZGQiLCJidXR0b25TdWJtaXRFZGl0UGhvdG8iLCJidXR0b25TdWJtaXREZWxldGVDYXJkIiwiYnV0dG9uQ2xvc2VNb2RhbEVkaXQiLCJidXR0b25DbG9zZU1vZGFsQWRkIiwiYnV0dG9uQ2xvc2VNb2RhbEVkaXRQaG90byIsImJ1dHRvbkNsb3NlTW9kYWxEZWxldGVDYXJkIiwiYnV0dG9uQ2xvc2VNb2RhbEltYWdlIiwiYnV0dG9uT3Blbk1vZGFsQWRkIiwiYnV0dG9uT3Blbk1vZGFsRWRpdCIsInByb2ZpbGVJbWFnZSIsImJ1dHRvbk9wZW5Nb2RhbEVkaXRQaG90byIsImxhYmVsTmFtZSIsImxhYmVsT2N1cGF0aW9uIiwiaW5wdXROYW1lIiwiaW5wdXRPY3VwYXRpb24iLCJpbnB1dE5hbWVQbGFjZSIsImlucHV0VXJsUGxhY2UiLCJpbnB1dFVybEVkaXQiLCJwaG90b0VkaXQiLCJmb3JtTGlzdCIsIkFycmF5IiwiZnJvbSIsIkFwaSIsIm9wdGlvbnMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX21ldGhvZCIsIm1ldGhvZCIsIl9ib2R5IiwiYm9keSIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImtleSIsInZhbHVlIiwiZmV0Y2giLCJjb25jYXQiLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsIlBvcFVwIiwiY29udGVudFBvcFVwIiwiY29udGVudFBvcFVwU2VsZWN0b3IiLCJjbG9zZUJ1dHRvblBvcFVwIiwib3BlbkJ1dHRvblBvcFVwIiwiX2NvbnRlbnRQb3BVcCIsIl9jb250ZW50UG9wVXBTZWxlY3RvciIsIl9jbG9zZUJ1dHRvblBvcFVwIiwiX29wZW5CdXR0b25Qb3BVcCIsIl9jbG9zZVBvcFVwS2V5RG93biIsImJpbmQiLCJfY2xvc2VQb3BVcE91dHNpZGVDbGljayIsIl9vcGVuUG9wVXAiLCJfY2xvc2VQb3BVcCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInN0eWxlIiwib3ZlcmZsb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsInRhcmdldCIsIl9kaXNhYmxlU2Nyb2xsIiwiX3RvZ2dsZVBvcFVwIiwiX2FkZEV2ZW50cyIsIl9lbmFibGVTY3JvbGwiLCJfcmVtb3ZlRXZlbnRzIiwiUG9wVXBXaXRoSW1hZ2UiLCJfUG9wVXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJzcmMiLCJ0ZXh0Q29udGVudCIsIl90aGlzIiwiY2FsbCIsIl9zcmMiLCJfdGV4dENvbnRlbnQiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiY2hpbGRyZW4iLCJQb3BVcERlbGV0ZUNhcmQiLCJzdWJtaXRCdXR0b25Qb3BVcCIsImNhcmQiLCJpZENhcmQiLCJfc3VibWl0QnV0dG9uUG9wVXAiLCJfY2FyZCIsIl9pZENhcmQiLCJfc3VibWl0UG9wVXAiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX3RoaXMyIiwiYXV0aG9yaXphdGlvbiIsInJlc3VsdCIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciIsImZpbmFsbHkiLCJyZW1vdmUiLCJDYXJkIiwibmFtZSIsImxpbmsiLCJsaWtlcyIsInVzZXIiLCJjYXJkU2VsZWN0b3IiLCJfdGl0bGUiLCJfaW1hZ2UiLCJfbGlrZXMiLCJfaXNMaWtlZCIsIl91c2VyIiwiX2NhcmRTZWxlY3RvciIsIl9jYXJkRWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZFBob3RvSXRlbSIsIl9jYXJkVGl0bGUiLCJfZGVsZXRlQnV0dG9uIiwiX2xpa2VCdXR0b24iLCJfY29udExpa2VzIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJfaWQiLCJhZGQiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImxlbmd0aCIsInNldEV2ZW50TGlzdGVuZXJzIiwiUG9wVXBXaXRoRm9ybUFkZCIsImZpcnN0SW5wdXRQb3BVcCIsInNlY29uZElucHV0UG9wVXAiLCJfZmlyc3RJbnB1dFBvcFVwIiwiX3NlY29uZElucHV0UG9wVXAiLCJfY3JlYXRlQ2FyZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJuZXdDYXJkRWxlbWVudCIsIm93bmVyIiwiZ2VuZXJhdGVDYXJkIiwicHJlcGVuZCIsIlBvcFVwV2l0aEZvcm1FZGl0IiwiZmlyc3RMYWJlbFBvcFVwIiwic2Vjb25kTGFiZWxQb3BVcCIsIl9maXJzdExhYmVsUG9wVXAiLCJfc2Vjb25kTGFiZWxQb3BVcCIsImFib3V0IiwicHJvZmlsZSIsIlBvcFVwV2l0aFBob3RvRWRpdCIsIl9waG90b0VkaXQiLCJhdmF0YXIiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybSIsImZvcm1FbGVtZW50cyIsIl9mb3JtIiwiX2Zvcm1FbGVtZW50cyIsIl9pbnB1dExpc3QiLCJzb21lIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfYnV0dG9uRWxlbWVudCIsImRpc2FibGVkIiwiX2Vycm9yRWxlbWVudCIsIl9pbnB1dEVsZW1lbnRMaXN0IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJwcmV2ZW50RGVmYXVsdCIsIlNlY3Rpb24iLCJfcmVmIiwiY29udGFpbmVyU2VsZWN0b3IiLCJkYXRhIiwicmVuZGVyZXIiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJhcHBlbmQiLCJpbm5lckhUTUwiLCJjbGVhciIsIml0ZW0iLCJjYXJkTGlzdCIsImNhcmRFbGVtZW50IiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwiekluZGV4IiwiZm9ybUVsZW1lbnQiLCJmaWVsZHNldCIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9