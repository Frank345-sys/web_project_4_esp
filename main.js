!function(){"use strict";var t=document.querySelector(".content-modal_edit"),e=document.querySelector(".content-modal_add"),o=document.querySelector(".content-modal_edit-photo"),n=document.querySelector(".content-modal_delete-card"),r=document.querySelector(".content-pop-up_image"),i=(document.querySelectorAll(".card"),document.querySelector(".content-photos")),c=document.querySelector(".button_edit"),u=document.querySelector(".button_add"),l=document.querySelector(".button_edit-photo"),s=document.querySelector(".button_delete-card"),a=document.querySelector(".modal__button-close_edit"),f=document.querySelector(".modal__button-close_add"),p=document.querySelector(".modal__button-close_edit-photo"),y=document.querySelector(".modal__button-close_delete-card"),d=document.querySelector(".pop-up-window__button-close"),b=document.querySelector(".content-profile__add-button"),h=document.querySelector(".content-prof-info-text__edit-button"),m=document.querySelector(".profile-image"),_=document.querySelector(".profile-image__edit-icon"),v=document.querySelector(".content-prof-info-text__name"),P=document.querySelector(".content-prof-info-text__ocupation"),g=document.querySelector(".input_name"),w=document.querySelector(".input_ocupation"),S=document.querySelector(".input_name-place"),E=document.querySelector(".input_url"),U=document.querySelector(".input_url-edit"),O=document.querySelector(".profile-image__image"),k=Array.from(document.querySelectorAll(".modal-form"));function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function L(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==j(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===j(r)?r:String(r)),n)}var r}var C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._method=e.method,this._body=e.body,this._headers=e.headers}var e,o;return e=t,(o=[{key:"card",value:function(){return fetch("https://around.nomoreparties.co/v1/web_es_08/".concat(this._baseUrl),{method:this._method,body:this._body,headers:this._headers}).then((function(t){return t.ok?t.json():Promise.reject("Error al crear tarjeta: ".concat(t.status))}))}},{key:"profile",value:function(){return fetch("https://around.nomoreparties.co/v1/web_es_08/".concat(this._baseUrl),{method:this._method,body:this._body,headers:this._headers}).then((function(t){return t.ok?t.json():Promise.reject("Error al actualizar perfil: ".concat(t.status))}))}}])&&L(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function R(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==T(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===T(r)?r:String(r)),n)}var r}var B=function(){function t(e,o,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._contentPopUp=e,this._contentPopUpSelector=o,this._closeButtonPopUp=n,this._openButtonPopUp=r,this._closePopUpKeyDown=this._closePopUpKeyDown.bind(this),this._closePopUpOutsideClick=this._closePopUpOutsideClick.bind(this),this._openPopUp=this._openPopUp.bind(this),this._closePopUp=this._closePopUp.bind(this)}var e,o;return e=t,(o=[{key:"_togglePopUp",value:function(){this._contentPopUp.classList.toggle(this._contentPopUpSelector)}},{key:"_enableScroll",value:function(){document.body.style.overflow="auto"}},{key:"_disableScroll",value:function(){document.body.style.overflow="hidden"}},{key:"_addEvents",value:function(){document.addEventListener("keydown",this._closePopUpKeyDown),this._contentPopUp.addEventListener("click",this._closePopUpOutsideClick),this._closeButtonPopUp.addEventListener("click",this._closePopUp)}},{key:"_removeEvents",value:function(){document.removeEventListener("keydown",this._closePopUpKeyDown),this._contentPopUp.removeEventListener("click",this._closePopUpOutsideClick),this._closeButtonPopUp.removeEventListener("click",this._closePopUp)}},{key:"_closePopUpKeyDown",value:function(t){"Escape"===t.key&&this._closePopUp()}},{key:"_closePopUpOutsideClick",value:function(t){t.target===this._contentPopUp&&this._closePopUp()}},{key:"_openPopUp",value:function(){this._disableScroll(),this._togglePopUp(),this._addEvents()}},{key:"_closePopUp",value:function(){this._enableScroll(),this._togglePopUp(),this._removeEvents()}},{key:"setEventListeners",value:function(){this._openButtonPopUp.addEventListener("click",this._openPopUp)}}])&&R(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function x(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==q(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===q(r)?r:String(r)),n)}var r}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=z(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},I.apply(this,arguments)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(c,t);var e,o,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(n);if(r){var o=z(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e,o,n,r){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(u=i.call(this,t,e,o))._src=n,u._textContent=r,u}return e=c,(o=[{key:"_addEvents",value:function(){I(z(c.prototype),"_addEvents",this).call(this),this._contentPopUp.children[0].children[1].src=this._src,this._contentPopUp.children[0].children[2].textContent=this._textContent}},{key:"setEventListeners",value:function(){this._openPopUp()}}])&&x(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(B);function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function G(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==K(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===K(r)?r:String(r)),n)}var r}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},N.apply(this,arguments)}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(c,t);var e,o,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=J(n);if(r){var o=J(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return H(t)}(this,t)});function c(t,e,o,n,r,u){var l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(l=i.call(this,t,e,o))._submitButtonPopUp=n,l._card=r,l._idCard=u,l._submitPopUp=l._submitPopUp.bind(H(l)),l}return e=c,(o=[{key:"_addEvents",value:function(){N(J(c.prototype),"_addEvents",this).call(this),this._submitButtonPopUp.addEventListener("click",this._submitPopUp)}},{key:"_removeEvents",value:function(){N(J(c.prototype),"_removeEvents",this).call(this),this._submitButtonPopUp.removeEventListener("click",this._submitPopUp)}},{key:"_submitPopUp",value:function(){var t=this;this._submitButtonPopUp.textContent="Eliminando...",new C({baseUrl:"cards/".concat(this._idCard),method:"DELETE",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(t){console.log(t)})).catch((function(e){t._closePopUp(),console.log(e)})).finally((function(){t._closePopUp(),t._card.remove(),t._submitButtonPopUp.textContent="Eliminar"}))}},{key:"setEventListeners",value:function(){this._openPopUp()}}])&&G(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(B);function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function Q(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==F(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===F(r)?r:String(r)),n)}var r}var W=function(){function t(e,o,n,r,i,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._title=e,this._image=o,this._idCard=n,this._likes=r,this._isLiked=!1,this._user=i,this._cardSelector=c}var e,o;return e=t,(o=[{key:"_getTemplate",value:function(){var t=this;return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardPhotoItem=this._cardElement.querySelector(".card__photo-item"),this._cardTitle=this._cardElement.querySelector(".content-footer-card__title"),this._deleteButton=this._cardElement.querySelector(".card__button-delete"),this._likeButton=this._cardElement.querySelector(".heart-button__icon"),this._contLikes=this._cardElement.querySelector(".content-footer-card__likes"),this._likes.forEach((function(e){e._id===t._user._id&&(t._likeButton.classList.add("heart-button__icon_liked"),t._isLiked=!0)})),this._cardElement}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._cardPhotoItem.src=this._image,this._cardTitle.textContent=this._title,this._contLikes.textContent=this._likes.length,this._element}},{key:"_createCards",value:function(){}},{key:"_setEventListeners",value:function(){var t=this;this._cardPhotoItem.addEventListener("click",(function(){new A(r,"content-pop-up_visibility_visible",d,t._image,t._title).setEventListeners()})),this._deleteButton.addEventListener("click",(function(){new M(n,"content-modal_visibility_visible",y,s,t._element,t._idCard).setEventListeners()})),this._likeButton.addEventListener("click",(function(){!1===t._isLiked?new C({baseUrl:"cards/likes/".concat(t._idCard),method:"PUT",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(e){t._contLikes.textContent=e.likes.length})).catch((function(t){console.log(t)})).finally((function(e){t._isLiked=!t._isLiked,t._likeButton.classList.add("heart-button__icon_liked")})):!0===t._isLiked&&new C({baseUrl:"cards/likes/".concat(t._idCard),method:"DELETE",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(e){t._contLikes.textContent=e.likes.length})).catch((function(t){console.log(t)})).finally((function(e){t._isLiked=!t._isLiked,t._likeButton.classList.remove("heart-button__icon_liked")}))}))}}])&&Q(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Y(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==X(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===X(r)?r:String(r)),n)}var r}function Z(){return Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=et(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},Z.apply(this,arguments)}function $(t,e){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$(t,e)}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}var ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$(t,e)}(u,t);var e,o,n,r,c=(n=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=et(n);if(r){var o=et(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tt(t)}(this,t)});function u(t,e,o,n,r,i,l){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(s=c.call(this,t,e,o,n))._submitButtonPopUp=r,s._firstInputPopUp=i,s._secondInputPopUp=l,s._submitPopUp=s._submitPopUp.bind(tt(s)),s}return e=u,(o=[{key:"_addEvents",value:function(){Z(et(u.prototype),"_addEvents",this).call(this),this._submitButtonPopUp.addEventListener("click",this._submitPopUp)}},{key:"_removeEvents",value:function(){Z(et(u.prototype),"_removeEvents",this).call(this),this._submitButtonPopUp.removeEventListener("click",this._submitPopUp)}},{key:"_submitPopUp",value:function(){this._createCard()}},{key:"_createCard",value:function(){var t=this;this._submitButtonPopUp.textContent="Creando...",new C({baseUrl:"cards",method:"POST",body:JSON.stringify({name:this._firstInputPopUp.value,link:this._secondInputPopUp.value}),headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(t){var e=new W(t.name,t.link,t._id,t.likes,t.owner,".card-template").generateCard();i.prepend(e)})).catch((function(e){t._closePopUp(),console.log(e)})).finally((function(e){t._closePopUp(),t._submitButtonPopUp.textContent="Crear"}))}}])&&Y(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),u}(B);function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function rt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==nt(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===nt(r)?r:String(r)),n)}var r}function it(){return it="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lt(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},it.apply(this,arguments)}function ct(t,e){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ct(t,e)}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ct(t,e)}(c,t);var e,o,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lt(n);if(r){var o=lt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}(this,t)});function c(t,e,o,n,r,u,l,s,a){var f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(f=i.call(this,t,e,o,n))._submitButtonPopUp=r,f._firstInputPopUp=u,f._secondInputPopUp=l,f._firstLabelPopUp=s,f._secondLabelPopUp=a,f._submitPopUp=f._submitPopUp.bind(ut(f)),f}return e=c,(o=[{key:"_addEvents",value:function(){it(lt(c.prototype),"_addEvents",this).call(this),this._firstInputPopUp.value=this._firstLabelPopUp.textContent,this._secondInputPopUp.value=this._secondLabelPopUp.textContent,this._submitButtonPopUp.addEventListener("click",this._submitPopUp)}},{key:"_removeEvents",value:function(){it(lt(c.prototype),"_removeEvents",this).call(this),this._submitButtonPopUp.removeEventListener("click",this._submitPopUp)}},{key:"_submitPopUp",value:function(){var t=this;this._submitButtonPopUp.textContent="Editando...",new C({baseUrl:"users/me",method:"PATCH",body:JSON.stringify({name:this._firstInputPopUp.value,about:this._secondInputPopUp.value}),headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).profile().then((function(e){console.log("Resultado del perfil con los nuevos datos: "+e),t._firstLabelPopUp.textContent=e.name,t._secondLabelPopUp.textContent=e.about})).catch((function(e){t._closePopUp(),console.log(e)})).finally((function(){t._closePopUp(),t._submitButtonPopUp.textContent="Guardar",console.log("Se editó la información del perfil con exito")}))}}])&&rt(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(B);function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function ft(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==at(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===at(r)?r:String(r)),n)}var r}function pt(){return pt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bt(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},pt.apply(this,arguments)}function yt(t,e){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yt(t,e)}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}var ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(c,t);var e,o,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(n);if(r){var o=bt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===at(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}(this,t)});function c(t,e,o,n,r,u,l){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(s=i.call(this,t,e,o,n))._submitButtonPopUp=r,s._firstInputPopUp=u,s._photoEdit=l,s._submitPopUp=s._submitPopUp.bind(dt(s)),s}return e=c,(o=[{key:"_addEvents",value:function(){pt(bt(c.prototype),"_addEvents",this).call(this),this._submitButtonPopUp.addEventListener("click",this._submitPopUp)}},{key:"_removeEvents",value:function(){pt(bt(c.prototype),"_removeEvents",this).call(this),this._submitButtonPopUp.removeEventListener("click",this._submitPopUp)}},{key:"_submitPopUp",value:function(){var t=this;this._submitButtonPopUp.textContent="Editando...",new C({baseUrl:"users/me/avatar",method:"PATCH",body:JSON.stringify({avatar:this._firstInputPopUp.value}),headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).profile().then((function(e){console.log("Resultado de cambio de foto de perfil actualizado: "+e),t._photoEdit.src=e.avatar})).catch((function(e){t._closePopUp(),console.log(e)})).finally((function(){t._closePopUp(),t._submitButtonPopUp.textContent="Guardar",console.log("Se editó la foto de perfil con exito")}))}}])&&ft(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(B);function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function _t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==mt(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===mt(r)?r:String(r)),n)}var r}var vt=function(){function t(e,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._form=e,this._formElements=o}var e,o;return e=t,(o=[{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add("button_inactive"),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove("button_inactive"),this._buttonElement.disabled=!1)}},{key:"_showInputError",value:function(){this._errorElement=this._form.querySelector(".error_".concat(this._inputElementList.id)),this._inputElementList.classList.add("input_error-active"),this._errorElement.classList.add("error_active"),this._errorElement.textContent=this._inputElementList.validationMessage}},{key:"_hideInputError",value:function(){this._errorElement=this._form.querySelector(".error_".concat(this._inputElementList.id)),this._inputElementList.classList.remove("input_error-active"),this._errorElement.classList.remove("error_active"),this._errorElement.textContent=""}},{key:"_checkInputValidity",value:function(){this._inputElementList.validity.valid?this._hideInputError():this._showInputError()}},{key:"enableValidation",value:function(){var t=this;this._inputList=Array.from(this._formElements.querySelectorAll(".input")),this._buttonElement=this._formElements.querySelector(".button"),this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._inputElementList=e,t._checkInputValidity(),t._toggleButtonState()}))})),this._form.addEventListener("submit",(function(t){t.preventDefault()}))}}])&&_t(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function gt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==Pt(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==Pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Pt(r)?r:String(r)),n)}var r}var wt=function(){function t(e,o){var n=e.data,r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderedItems=n,this._renderer=r,this._container=o}var e,o;return e=t,(o=[{key:"addItem",value:function(t){this._container.append(t)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var t=this;this.clear(),this._renderedItems.forEach((function(e){t._renderer(e)}))}}])&&gt(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();new C({baseUrl:"cards",method:"GET",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(t){console.log("Lista de cards: "+t);var e=new wt({data:t,renderer:function(t){var o=new W(t.name,t.link,t._id,t.likes,t.owner,".card-template").generateCard();e.addItem(o)}},i);e.renderItems()})).catch((function(t){console.log(t)})).finally((function(){i.classList.remove("shimmer")})),new C({baseUrl:"users/me",method:"GET",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).profile().then((function(t){console.log(t),O.src=t.avatar,v.textContent=t.name,P.textContent=t.about})).catch((function(t){console.log(t)})).finally((function(){O.style.zIndex="0",m.classList.remove("shimmer"),v.classList.remove("shimmer"),P.classList.remove("shimmer")})),new st(t,"content-modal_visibility_visible",a,h,c,g,w,v,P).setEventListeners(),new ot(e,"content-modal_visibility_visible",f,b,u,S,E).setEventListeners(),new ht(o,"content-modal_visibility_visible",p,_,l,U,O).setEventListeners(),k.forEach((function(t){Array.from(t.querySelectorAll(".modal-form__set")).forEach((function(e){new vt(t,e).enableValidation()}))}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixFQUNBQyxHQUVha0gsb0JBTWZqSCxFQUFTeUcsU0FBUSxTQUFDc0UsR0FDSzlLLE1BQU1DLEtBQ3pCNkssRUFBWXJNLGlCQUFpQixxQkFFbEIrSCxTQUFRLFNBQUN1RSxHQUNQLElBQUl4QyxHQUFjdUMsRUFBYUMsR0FDdkNDLGtCQUNQLEdBQ0YsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcFVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wVXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3BVcERlbGV0ZUNhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wVXBXaXRoRm9ybUFkZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcFVwV2l0aEZvcm1FZGl0LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wVXBXaXRoUGhvdG9FZGl0LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbnRlbnRQb3BVcEVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnQtbW9kYWxfZWRpdFwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb250ZW50UG9wVXBBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnQtbW9kYWxfYWRkXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbnRlbnRQb3BVcEVkaXRQaG90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuY29udGVudC1tb2RhbF9lZGl0LXBob3RvXCJcclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb250ZW50UG9wVXBEZWxldGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5jb250ZW50LW1vZGFsX2RlbGV0ZS1jYXJkXCJcclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb250ZW50UG9wVXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuY29udGVudC1wb3AtdXBfaW1hZ2VcIlxyXG4pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRJbWFnZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhcmRcIik7XHJcbmV4cG9ydCBjb25zdCBjb250ZW50Q2FyZExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnQtcGhvdG9zXCIpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uU3VibWl0RWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX2VkaXRcIik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25TdWJtaXRBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl9hZGRcIik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25TdWJtaXRFZGl0UGhvdG8gPVxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX2VkaXQtcGhvdG9cIik7XHJcblxyXG5leHBvcnQgY29uc3QgYnV0dG9uU3VibWl0RGVsZXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuYnV0dG9uX2RlbGV0ZS1jYXJkXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkNsb3NlTW9kYWxFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5tb2RhbF9fYnV0dG9uLWNsb3NlX2VkaXRcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uQ2xvc2VNb2RhbEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIubW9kYWxfX2J1dHRvbi1jbG9zZV9hZGRcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uQ2xvc2VNb2RhbEVkaXRQaG90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIubW9kYWxfX2J1dHRvbi1jbG9zZV9lZGl0LXBob3RvXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkNsb3NlTW9kYWxEZWxldGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5tb2RhbF9fYnV0dG9uLWNsb3NlX2RlbGV0ZS1jYXJkXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkNsb3NlTW9kYWxJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wLXVwLXdpbmRvd19fYnV0dG9uLWNsb3NlXCJcclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBidXR0b25PcGVuTW9kYWxBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmNvbnRlbnQtcHJvZmlsZV9fYWRkLWJ1dHRvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25PcGVuTW9kYWxFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5jb250ZW50LXByb2YtaW5mby10ZXh0X19lZGl0LWJ1dHRvblwiXHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgcHJvZmlsZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlLWltYWdlXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGJ1dHRvbk9wZW5Nb2RhbEVkaXRQaG90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZS1pbWFnZV9fZWRpdC1pY29uXCJcclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBsYWJlbE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmNvbnRlbnQtcHJvZi1pbmZvLXRleHRfX25hbWVcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgbGFiZWxPY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmNvbnRlbnQtcHJvZi1pbmZvLXRleHRfX29jdXBhdGlvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBpbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlucHV0X25hbWVcIik7XHJcblxyXG5leHBvcnQgY29uc3QgaW5wdXRPY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlucHV0X29jdXBhdGlvblwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnB1dE5hbWVQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRfbmFtZS1wbGFjZVwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnB1dFVybFBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnB1dF91cmxcIik7XHJcblxyXG5leHBvcnQgY29uc3QgaW5wdXRVcmxFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnB1dF91cmwtZWRpdFwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwaG90b0VkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGUtaW1hZ2VfX2ltYWdlXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsLWZvcm1cIikpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbGxlIGRlIFlvc2VtaXRlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3lvc2VtaXRlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWtlLWxvdWlzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTW9udGHDsWFzIENhbHZhc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYXRlbWFyLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJQYXJxdWUgTmFjaW9uYWwgZGUgbGEgVmFub2lzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWdvLmpwZ1wiLFxyXG4gIH0sXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdGlhbEZvcm1zID0gW107XHJcblxyXG5leHBvcnQgY2xhc3MgU2Nyb2xsIHtcclxuICBkaXNhYmxlU2Nyb2xsKCkge1xyXG4gICAgbGV0IHggPSB3aW5kb3cuc2Nyb2xsWDtcclxuICAgIGxldCB5ID0gd2luZG93LnNjcm9sbFk7XHJcbiAgICB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyh4LCB5KTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBlbmFibGVTY3JvbGwoKSB7XHJcbiAgICB3aW5kb3cub25zY3JvbGwgPSBudWxsO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5fbWV0aG9kID0gb3B0aW9ucy5tZXRob2Q7XHJcbiAgICB0aGlzLl9ib2R5ID0gb3B0aW9ucy5ib2R5O1xyXG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICB9XHJcblxyXG4gIGNhcmQoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goXHJcbiAgICAgIGBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wOC8ke3RoaXMuX2Jhc2VVcmx9YCxcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogdGhpcy5fbWV0aG9kLFxyXG4gICAgICAgIGJvZHk6IHRoaXMuX2JvZHksXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfVxyXG4gICAgKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3IgYWwgY3JlYXIgdGFyamV0YTogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcm9maWxlKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfZXNfMDgvJHt0aGlzLl9iYXNlVXJsfWAsXHJcbiAgICAgIHtcclxuICAgICAgICBtZXRob2Q6IHRoaXMuX21ldGhvZCxcclxuICAgICAgICBib2R5OiB0aGlzLl9ib2R5LFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIH1cclxuICAgICkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yIGFsIGFjdHVhbGl6YXIgcGVyZmlsOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFBvcFVwIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGNvbnRlbnRQb3BVcCxcclxuICAgIGNvbnRlbnRQb3BVcFNlbGVjdG9yLFxyXG4gICAgY2xvc2VCdXR0b25Qb3BVcCxcclxuICAgIG9wZW5CdXR0b25Qb3BVcFxyXG4gICkge1xyXG4gICAgdGhpcy5fY29udGVudFBvcFVwID0gY29udGVudFBvcFVwO1xyXG4gICAgdGhpcy5fY29udGVudFBvcFVwU2VsZWN0b3IgPSBjb250ZW50UG9wVXBTZWxlY3RvcjtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uUG9wVXAgPSBjbG9zZUJ1dHRvblBvcFVwO1xyXG4gICAgdGhpcy5fb3BlbkJ1dHRvblBvcFVwID0gb3BlbkJ1dHRvblBvcFVwO1xyXG5cclxuICAgIHRoaXMuX2Nsb3NlUG9wVXBLZXlEb3duID0gdGhpcy5fY2xvc2VQb3BVcEtleURvd24uYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2Nsb3NlUG9wVXBPdXRzaWRlQ2xpY2sgPSB0aGlzLl9jbG9zZVBvcFVwT3V0c2lkZUNsaWNrLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9vcGVuUG9wVXAgPSB0aGlzLl9vcGVuUG9wVXAuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2Nsb3NlUG9wVXAgPSB0aGlzLl9jbG9zZVBvcFVwLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlUG9wVXAoKSB7XHJcbiAgICB0aGlzLl9jb250ZW50UG9wVXAuY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLl9jb250ZW50UG9wVXBTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfZW5hYmxlU2Nyb2xsKCkge1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xyXG4gIH1cclxuXHJcbiAgX2Rpc2FibGVTY3JvbGwoKSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICB9XHJcblxyXG4gIF9hZGRFdmVudHMoKSB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9jbG9zZVBvcFVwS2V5RG93bik7XHJcbiAgICB0aGlzLl9jb250ZW50UG9wVXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2Nsb3NlUG9wVXBPdXRzaWRlQ2xpY2spO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b25Qb3BVcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fY2xvc2VQb3BVcCk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRzKCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fY2xvc2VQb3BVcEtleURvd24pO1xyXG4gICAgdGhpcy5fY29udGVudFBvcFVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgdGhpcy5fY2xvc2VQb3BVcE91dHNpZGVDbGlja1xyXG4gICAgKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uUG9wVXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2Nsb3NlUG9wVXApO1xyXG4gIH1cclxuXHJcbiAgX2Nsb3NlUG9wVXBLZXlEb3duKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5fY2xvc2VQb3BVcCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2Nsb3NlUG9wVXBPdXRzaWRlQ2xpY2soZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5fY29udGVudFBvcFVwKSB7XHJcbiAgICAgIHRoaXMuX2Nsb3NlUG9wVXAoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9vcGVuUG9wVXAoKSB7XHJcbiAgICB0aGlzLl9kaXNhYmxlU2Nyb2xsKCk7XHJcbiAgICB0aGlzLl90b2dnbGVQb3BVcCgpO1xyXG4gICAgdGhpcy5fYWRkRXZlbnRzKCk7XHJcbiAgfVxyXG5cclxuICBfY2xvc2VQb3BVcCgpIHtcclxuICAgIHRoaXMuX2VuYWJsZVNjcm9sbCgpO1xyXG4gICAgdGhpcy5fdG9nZ2xlUG9wVXAoKTtcclxuICAgIHRoaXMuX3JlbW92ZUV2ZW50cygpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9vcGVuQnV0dG9uUG9wVXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX29wZW5Qb3BVcCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcFVwIH0gZnJvbSBcIi4vUG9wVXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3BVcFdpdGhJbWFnZSBleHRlbmRzIFBvcFVwIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGNvbnRlbnRQb3BVcCxcclxuICAgIGNvbnRlbnRQb3BVcFNlbGVjdG9yLFxyXG4gICAgY2xvc2VCdXR0b25Qb3BVcCxcclxuICAgIHNyYyxcclxuICAgIHRleHRDb250ZW50XHJcbiAgKSB7XHJcbiAgICBzdXBlcihjb250ZW50UG9wVXAsIGNvbnRlbnRQb3BVcFNlbGVjdG9yLCBjbG9zZUJ1dHRvblBvcFVwKTtcclxuICAgIHRoaXMuX3NyYyA9IHNyYztcclxuICAgIHRoaXMuX3RleHRDb250ZW50ID0gdGV4dENvbnRlbnQ7XHJcbiAgfVxyXG5cclxuICBfYWRkRXZlbnRzKCkge1xyXG4gICAgc3VwZXIuX2FkZEV2ZW50cygpO1xyXG4gICAgdGhpcy5fY29udGVudFBvcFVwLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdLnNyYyA9IHRoaXMuX3NyYztcclxuICAgIHRoaXMuX2NvbnRlbnRQb3BVcC5jaGlsZHJlblswXS5jaGlsZHJlblsyXS50ZXh0Q29udGVudCA9IHRoaXMuX3RleHRDb250ZW50O1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9vcGVuUG9wVXAoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wVXAgfSBmcm9tIFwiLi9Qb3BVcC5qc1wiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3BVcERlbGV0ZUNhcmQgZXh0ZW5kcyBQb3BVcCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBjb250ZW50UG9wVXAsXHJcbiAgICBjb250ZW50UG9wVXBTZWxlY3RvcixcclxuICAgIGNsb3NlQnV0dG9uUG9wVXAsXHJcbiAgICBzdWJtaXRCdXR0b25Qb3BVcCxcclxuICAgIGNhcmQsXHJcbiAgICBpZENhcmRcclxuICApIHtcclxuICAgIHN1cGVyKGNvbnRlbnRQb3BVcCwgY29udGVudFBvcFVwU2VsZWN0b3IsIGNsb3NlQnV0dG9uUG9wVXApO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAgPSBzdWJtaXRCdXR0b25Qb3BVcDtcclxuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xyXG4gICAgdGhpcy5faWRDYXJkID0gaWRDYXJkO1xyXG4gICAgdGhpcy5fc3VibWl0UG9wVXAgPSB0aGlzLl9zdWJtaXRQb3BVcC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2FkZEV2ZW50cygpIHtcclxuICAgIHN1cGVyLl9hZGRFdmVudHMoKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9zdWJtaXRQb3BVcCk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRzKCkge1xyXG4gICAgc3VwZXIuX3JlbW92ZUV2ZW50cygpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX3N1Ym1pdFBvcFVwKTtcclxuICB9XHJcblxyXG4gIF9zdWJtaXRQb3BVcCgpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLnRleHRDb250ZW50ID0gXCJFbGltaW5hbmRvLi4uXCI7XHJcbiAgICBjb25zdCBkZWxldGVDYXJkID0gbmV3IEFwaSh7XHJcbiAgICAgIGJhc2VVcmw6IGBjYXJkcy8ke3RoaXMuX2lkQ2FyZH1gLFxyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGJvZHk6IG51bGwsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcIjI4ZDFmNzdiLTM2MDUtNDQ5Zi1iZjE2LTIwYTUyMTZmOGZkYlwiLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgZGVsZXRlQ2FyZFxyXG4gICAgICAuY2FyZCgpXHJcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlUG9wVXAoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VQb3BVcCgpO1xyXG4gICAgICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAudGV4dENvbnRlbnQgPSBcIkVsaW1pbmFyXCI7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9vcGVuUG9wVXAoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICBjb250ZW50UG9wVXBJbWFnZSxcclxuICBjb250ZW50UG9wVXBEZWxldGVDYXJkLFxyXG4gIGJ1dHRvbkNsb3NlTW9kYWxJbWFnZSxcclxuICBidXR0b25DbG9zZU1vZGFsRGVsZXRlQ2FyZCxcclxuICBidXR0b25TdWJtaXREZWxldGVDYXJkLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5cclxuaW1wb3J0IHsgUG9wVXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3BVcFdpdGhJbWFnZS5qc1wiO1xyXG5cclxuaW1wb3J0IHsgUG9wVXBEZWxldGVDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wVXBEZWxldGVDYXJkLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IobmFtZSwgbGluaywgaWRDYXJkLCBsaWtlcywgdXNlciwgY2FyZFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl90aXRsZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZSA9IGxpbms7XHJcbiAgICB0aGlzLl9pZENhcmQgPSBpZENhcmQ7XHJcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xyXG4gICAgdGhpcy5faXNMaWtlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5fdXNlciA9IHVzZXI7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZFBob3RvSXRlbSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fcGhvdG8taXRlbVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmNvbnRlbnQtZm9vdGVyLWNhcmRfX3RpdGxlXCJcclxuICAgICk7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5jYXJkX19idXR0b24tZGVsZXRlXCJcclxuICAgICk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFydC1idXR0b25fX2ljb25cIik7XHJcbiAgICB0aGlzLl9jb250TGlrZXMgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5jb250ZW50LWZvb3Rlci1jYXJkX19saWtlc1wiXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuX2xpa2VzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgaWYgKGVsZW1lbnQuX2lkID09PSB0aGlzLl91c2VyLl9pZCkge1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImhlYXJ0LWJ1dHRvbl9faWNvbl9saWtlZFwiKTtcclxuICAgICAgICB0aGlzLl9pc0xpa2VkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fY2FyZFBob3RvSXRlbS5zcmMgPSB0aGlzLl9pbWFnZTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xyXG4gICAgdGhpcy5fY29udExpa2VzLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlQ2FyZHMoKSB7fVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jYXJkUGhvdG9JdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wVXBXaXRoSW1hZ2UoXHJcbiAgICAgICAgY29udGVudFBvcFVwSW1hZ2UsXHJcbiAgICAgICAgXCJjb250ZW50LXBvcC11cF92aXNpYmlsaXR5X3Zpc2libGVcIixcclxuICAgICAgICBidXR0b25DbG9zZU1vZGFsSW1hZ2UsXHJcbiAgICAgICAgdGhpcy5faW1hZ2UsXHJcbiAgICAgICAgdGhpcy5fdGl0bGVcclxuICAgICAgKTtcclxuICAgICAgcG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBvcHVwRGVsZXRlID0gbmV3IFBvcFVwRGVsZXRlQ2FyZChcclxuICAgICAgICBjb250ZW50UG9wVXBEZWxldGVDYXJkLFxyXG4gICAgICAgIFwiY29udGVudC1tb2RhbF92aXNpYmlsaXR5X3Zpc2libGVcIixcclxuICAgICAgICBidXR0b25DbG9zZU1vZGFsRGVsZXRlQ2FyZCxcclxuICAgICAgICBidXR0b25TdWJtaXREZWxldGVDYXJkLFxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQsXHJcbiAgICAgICAgdGhpcy5faWRDYXJkXHJcbiAgICAgICk7XHJcbiAgICAgIHBvcHVwRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl9pc0xpa2VkID09PSBmYWxzZSkge1xyXG4gICAgICAgIGNvbnN0IGxpa2VDYXJkID0gbmV3IEFwaSh7XHJcbiAgICAgICAgICBiYXNlVXJsOiBgY2FyZHMvbGlrZXMvJHt0aGlzLl9pZENhcmR9YCxcclxuICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgIGJvZHk6IG51bGwsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiMjhkMWY3N2ItMzYwNS00NDlmLWJmMTYtMjBhNTIxNmY4ZmRiXCIsXHJcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaWtlQ2FyZFxyXG4gICAgICAgICAgLmNhcmQoKVxyXG4gICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9jb250TGlrZXMudGV4dENvbnRlbnQgPSByZXN1bHQubGlrZXMubGVuZ3RoO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmZpbmFsbHkoKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0xpa2VkID0gIXRoaXMuX2lzTGlrZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImhlYXJ0LWJ1dHRvbl9faWNvbl9saWtlZFwiKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2lzTGlrZWQgPT09IHRydWUpIHtcclxuICAgICAgICBjb25zdCBkZWxldGVMaWtlQ2FyZCA9IG5ldyBBcGkoe1xyXG4gICAgICAgICAgYmFzZVVybDogYGNhcmRzL2xpa2VzLyR7dGhpcy5faWRDYXJkfWAsXHJcbiAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgICBib2R5OiBudWxsLFxyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uOiBcIjI4ZDFmNzdiLTM2MDUtNDQ5Zi1iZjE2LTIwYTUyMTZmOGZkYlwiLFxyXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZGVsZXRlTGlrZUNhcmRcclxuICAgICAgICAgIC5jYXJkKClcclxuICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fY29udExpa2VzLnRleHRDb250ZW50ID0gcmVzdWx0Lmxpa2VzLmxlbmd0aDtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5maW5hbGx5KChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faXNMaWtlZCA9ICF0aGlzLl9pc0xpa2VkO1xyXG4gICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJoZWFydC1idXR0b25fX2ljb25fbGlrZWRcIik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcFVwIH0gZnJvbSBcIi4vUG9wVXAuanNcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgY29udGVudENhcmRMaXN0IH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3BVcFdpdGhGb3JtQWRkIGV4dGVuZHMgUG9wVXAge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgY29udGVudFBvcFVwLFxyXG4gICAgY29udGVudFBvcFVwU2VsZWN0b3IsXHJcbiAgICBjbG9zZUJ1dHRvblBvcFVwLFxyXG4gICAgb3BlbkJ1dHRvblBvcFVwLFxyXG4gICAgc3VibWl0QnV0dG9uUG9wVXAsXHJcbiAgICBmaXJzdElucHV0UG9wVXAsXHJcbiAgICBzZWNvbmRJbnB1dFBvcFVwXHJcbiAgKSB7XHJcbiAgICBzdXBlcihcclxuICAgICAgY29udGVudFBvcFVwLFxyXG4gICAgICBjb250ZW50UG9wVXBTZWxlY3RvcixcclxuICAgICAgY2xvc2VCdXR0b25Qb3BVcCxcclxuICAgICAgb3BlbkJ1dHRvblBvcFVwXHJcbiAgICApO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAgPSBzdWJtaXRCdXR0b25Qb3BVcDtcclxuICAgIHRoaXMuX2ZpcnN0SW5wdXRQb3BVcCA9IGZpcnN0SW5wdXRQb3BVcDtcclxuICAgIHRoaXMuX3NlY29uZElucHV0UG9wVXAgPSBzZWNvbmRJbnB1dFBvcFVwO1xyXG5cclxuICAgIHRoaXMuX3N1Ym1pdFBvcFVwID0gdGhpcy5fc3VibWl0UG9wVXAuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIF9hZGRFdmVudHMoKSB7XHJcbiAgICBzdXBlci5fYWRkRXZlbnRzKCk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fc3VibWl0UG9wVXApO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUV2ZW50cygpIHtcclxuICAgIHN1cGVyLl9yZW1vdmVFdmVudHMoKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9zdWJtaXRQb3BVcCk7XHJcbiAgfVxyXG5cclxuICBfc3VibWl0UG9wVXAoKSB7XHJcbiAgICB0aGlzLl9jcmVhdGVDYXJkKCk7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLnRleHRDb250ZW50ID0gXCJDcmVhbmRvLi4uXCI7XHJcbiAgICBjb25zdCBjcmVhdGVDYXJkID0gbmV3IEFwaSh7XHJcbiAgICAgIGJhc2VVcmw6IFwiY2FyZHNcIixcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IHRoaXMuX2ZpcnN0SW5wdXRQb3BVcC52YWx1ZSxcclxuICAgICAgICBsaW5rOiB0aGlzLl9zZWNvbmRJbnB1dFBvcFVwLnZhbHVlLFxyXG4gICAgICB9KSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiMjhkMWY3N2ItMzYwNS00NDlmLWJmMTYtMjBhNTIxNmY4ZmRiXCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICAgIGNyZWF0ZUNhcmRcclxuICAgICAgLmNhcmQoKVxyXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgICAgICAgcmVzdWx0Lm5hbWUsXHJcbiAgICAgICAgICByZXN1bHQubGluayxcclxuICAgICAgICAgIHJlc3VsdC5faWQsXHJcbiAgICAgICAgICByZXN1bHQubGlrZXMsXHJcbiAgICAgICAgICByZXN1bHQub3duZXIsXHJcbiAgICAgICAgICBcIi5jYXJkLXRlbXBsYXRlXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IG5ld0NhcmRFbGVtZW50ID0gbmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgICBjb250ZW50Q2FyZExpc3QucHJlcGVuZChuZXdDYXJkRWxlbWVudCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VQb3BVcCgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KChyZXN1bHQpID0+IHtcclxuICAgICAgICB0aGlzLl9jbG9zZVBvcFVwKCk7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAudGV4dENvbnRlbnQgPSBcIkNyZWFyXCI7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3BVcCB9IGZyb20gXCIuL1BvcFVwLmpzXCI7XHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcFVwV2l0aEZvcm1FZGl0IGV4dGVuZHMgUG9wVXAge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgY29udGVudFBvcFVwLFxyXG4gICAgY29udGVudFBvcFVwU2VsZWN0b3IsXHJcbiAgICBjbG9zZUJ1dHRvblBvcFVwLFxyXG4gICAgb3BlbkJ1dHRvblBvcFVwLFxyXG4gICAgc3VibWl0QnV0dG9uUG9wVXAsXHJcbiAgICBmaXJzdElucHV0UG9wVXAsXHJcbiAgICBzZWNvbmRJbnB1dFBvcFVwLFxyXG4gICAgZmlyc3RMYWJlbFBvcFVwLFxyXG4gICAgc2Vjb25kTGFiZWxQb3BVcFxyXG4gICkge1xyXG4gICAgc3VwZXIoXHJcbiAgICAgIGNvbnRlbnRQb3BVcCxcclxuICAgICAgY29udGVudFBvcFVwU2VsZWN0b3IsXHJcbiAgICAgIGNsb3NlQnV0dG9uUG9wVXAsXHJcbiAgICAgIG9wZW5CdXR0b25Qb3BVcFxyXG4gICAgKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwID0gc3VibWl0QnV0dG9uUG9wVXA7XHJcbiAgICB0aGlzLl9maXJzdElucHV0UG9wVXAgPSBmaXJzdElucHV0UG9wVXA7XHJcbiAgICB0aGlzLl9zZWNvbmRJbnB1dFBvcFVwID0gc2Vjb25kSW5wdXRQb3BVcDtcclxuICAgIHRoaXMuX2ZpcnN0TGFiZWxQb3BVcCA9IGZpcnN0TGFiZWxQb3BVcDtcclxuICAgIHRoaXMuX3NlY29uZExhYmVsUG9wVXAgPSBzZWNvbmRMYWJlbFBvcFVwO1xyXG5cclxuICAgIHRoaXMuX3N1Ym1pdFBvcFVwID0gdGhpcy5fc3VibWl0UG9wVXAuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIF9hZGRFdmVudHMoKSB7XHJcbiAgICBzdXBlci5fYWRkRXZlbnRzKCk7XHJcbiAgICB0aGlzLl9maXJzdElucHV0UG9wVXAudmFsdWUgPSB0aGlzLl9maXJzdExhYmVsUG9wVXAudGV4dENvbnRlbnQ7XHJcbiAgICB0aGlzLl9zZWNvbmRJbnB1dFBvcFVwLnZhbHVlID0gdGhpcy5fc2Vjb25kTGFiZWxQb3BVcC50ZXh0Q29udGVudDtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9zdWJtaXRQb3BVcCk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRzKCkge1xyXG4gICAgc3VwZXIuX3JlbW92ZUV2ZW50cygpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX3N1Ym1pdFBvcFVwKTtcclxuICB9XHJcblxyXG4gIF9zdWJtaXRQb3BVcCgpIHtcclxuICAgIC8vSmFjcXVlcyBDb3VzdGVhdVxyXG4gICAgLy9TYWlsb3IsIHJlc2VhcmNoZXJcclxuXHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC50ZXh0Q29udGVudCA9IFwiRWRpdGFuZG8uLi5cIjtcclxuXHJcbiAgICBjb25zdCBlZGl0UGhvdG9Qcm9maWxlID0gbmV3IEFwaSh7XHJcbiAgICAgIGJhc2VVcmw6IGB1c2Vycy9tZWAsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogdGhpcy5fZmlyc3RJbnB1dFBvcFVwLnZhbHVlLFxyXG4gICAgICAgIGFib3V0OiB0aGlzLl9zZWNvbmRJbnB1dFBvcFVwLnZhbHVlLFxyXG4gICAgICB9KSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiMjhkMWY3N2ItMzYwNS00NDlmLWJmMTYtMjBhNTIxNmY4ZmRiXCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBlZGl0UGhvdG9Qcm9maWxlXHJcbiAgICAgIC5wcm9maWxlKClcclxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVzdWx0YWRvIGRlbCBwZXJmaWwgY29uIGxvcyBudWV2b3MgZGF0b3M6IFwiICsgcmVzdWx0KTtcclxuICAgICAgICB0aGlzLl9maXJzdExhYmVsUG9wVXAudGV4dENvbnRlbnQgPSByZXN1bHQubmFtZTtcclxuICAgICAgICB0aGlzLl9zZWNvbmRMYWJlbFBvcFVwLnRleHRDb250ZW50ID0gcmVzdWx0LmFib3V0O1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlUG9wVXAoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VQb3BVcCgpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLnRleHRDb250ZW50ID0gXCJHdWFyZGFyXCI7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTZSBlZGl0w7MgbGEgaW5mb3JtYWNpw7NuIGRlbCBwZXJmaWwgY29uIGV4aXRvXCIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wVXAgfSBmcm9tIFwiLi9Qb3BVcC5qc1wiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3BVcFdpdGhQaG90b0VkaXQgZXh0ZW5kcyBQb3BVcCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBjb250ZW50UG9wVXAsXHJcbiAgICBjb250ZW50UG9wVXBTZWxlY3RvcixcclxuICAgIGNsb3NlQnV0dG9uUG9wVXAsXHJcbiAgICBvcGVuQnV0dG9uUG9wVXAsXHJcbiAgICBzdWJtaXRCdXR0b25Qb3BVcCxcclxuICAgIGZpcnN0SW5wdXRQb3BVcCxcclxuICAgIHBob3RvRWRpdFxyXG4gICkge1xyXG4gICAgc3VwZXIoXHJcbiAgICAgIGNvbnRlbnRQb3BVcCxcclxuICAgICAgY29udGVudFBvcFVwU2VsZWN0b3IsXHJcbiAgICAgIGNsb3NlQnV0dG9uUG9wVXAsXHJcbiAgICAgIG9wZW5CdXR0b25Qb3BVcFxyXG4gICAgKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwID0gc3VibWl0QnV0dG9uUG9wVXA7XHJcbiAgICB0aGlzLl9maXJzdElucHV0UG9wVXAgPSBmaXJzdElucHV0UG9wVXA7XHJcbiAgICB0aGlzLl9waG90b0VkaXQgPSBwaG90b0VkaXQ7XHJcblxyXG4gICAgdGhpcy5fc3VibWl0UG9wVXAgPSB0aGlzLl9zdWJtaXRQb3BVcC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2FkZEV2ZW50cygpIHtcclxuICAgIHN1cGVyLl9hZGRFdmVudHMoKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9zdWJtaXRQb3BVcCk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRzKCkge1xyXG4gICAgc3VwZXIuX3JlbW92ZUV2ZW50cygpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX3N1Ym1pdFBvcFVwKTtcclxuICB9XHJcblxyXG4gIF9zdWJtaXRQb3BVcCgpIHtcclxuICAgIC8vaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jb21tb24vYXZhLmpwZ1xyXG5cclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLnRleHRDb250ZW50ID0gXCJFZGl0YW5kby4uLlwiO1xyXG5cclxuICAgIGNvbnN0IGVkaXRQaG90b1Byb2ZpbGUgPSBuZXcgQXBpKHtcclxuICAgICAgYmFzZVVybDogYHVzZXJzL21lL2F2YXRhcmAsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiB0aGlzLl9maXJzdElucHV0UG9wVXAudmFsdWUsXHJcbiAgICAgIH0pLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCIyOGQxZjc3Yi0zNjA1LTQ0OWYtYmYxNi0yMGE1MjE2ZjhmZGJcIixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGVkaXRQaG90b1Byb2ZpbGVcclxuICAgICAgLnByb2ZpbGUoKVxyXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICBcIlJlc3VsdGFkbyBkZSBjYW1iaW8gZGUgZm90byBkZSBwZXJmaWwgYWN0dWFsaXphZG86IFwiICsgcmVzdWx0XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLl9waG90b0VkaXQuc3JjID0gcmVzdWx0LmF2YXRhcjtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICB0aGlzLl9jbG9zZVBvcFVwKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlUG9wVXAoKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC50ZXh0Q29udGVudCA9IFwiR3VhcmRhclwiO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2UgZWRpdMOzIGxhIGZvdG8gZGUgcGVyZmlsIGNvbiBleGl0b1wiKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtLCBmb3JtRWxlbWVudHMpIHtcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnRzID0gZm9ybUVsZW1lbnRzO1xyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYnV0dG9uX2luYWN0aXZlXCIpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImJ1dHRvbl9pbmFjdGl2ZVwiKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKCkge1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLmVycm9yXyR7dGhpcy5faW5wdXRFbGVtZW50TGlzdC5pZH1gXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuX2lucHV0RWxlbWVudExpc3QuY2xhc3NMaXN0LmFkZChcImlucHV0X2Vycm9yLWFjdGl2ZVwiKTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZXJyb3JfYWN0aXZlXCIpO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5faW5wdXRFbGVtZW50TGlzdC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcigpIHtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC5lcnJvcl8ke3RoaXMuX2lucHV0RWxlbWVudExpc3QuaWR9YFxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJpbnB1dF9lcnJvci1hY3RpdmVcIik7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yX2FjdGl2ZVwiKTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KCkge1xyXG4gICAgaWYgKCF0aGlzLl9pbnB1dEVsZW1lbnRMaXN0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnRzLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW5wdXRcIikpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50cy5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvblwiKTtcclxuXHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRFbGVtZW50TGlzdCA9IGlucHV0RWxlbWVudDtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoKTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGRhdGEsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gZGF0YTtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAvL3RoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFwiLi9zdHlsZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7XHJcbiAgY29udGVudENhcmRMaXN0LFxyXG4gIGZvcm1MaXN0LFxyXG4gIGNvbnRlbnRQb3BVcEVkaXQsXHJcbiAgY29udGVudFBvcFVwQWRkLFxyXG4gIGNvbnRlbnRQb3BVcEVkaXRQaG90byxcclxuICBidXR0b25DbG9zZU1vZGFsRWRpdCxcclxuICBidXR0b25DbG9zZU1vZGFsQWRkLFxyXG4gIGJ1dHRvbkNsb3NlTW9kYWxFZGl0UGhvdG8sXHJcbiAgYnV0dG9uT3Blbk1vZGFsRWRpdCxcclxuICBidXR0b25PcGVuTW9kYWxBZGQsXHJcbiAgYnV0dG9uT3Blbk1vZGFsRWRpdFBob3RvLFxyXG4gIGJ1dHRvblN1Ym1pdEVkaXQsXHJcbiAgYnV0dG9uU3VibWl0QWRkLFxyXG4gIGJ1dHRvblN1Ym1pdEVkaXRQaG90byxcclxuICBpbnB1dE5hbWUsXHJcbiAgaW5wdXRPY3VwYXRpb24sXHJcbiAgcHJvZmlsZUltYWdlLFxyXG4gIGxhYmVsTmFtZSxcclxuICBsYWJlbE9jdXBhdGlvbixcclxuICBpbnB1dE5hbWVQbGFjZSxcclxuICBpbnB1dFVybFBsYWNlLFxyXG4gIGlucHV0VXJsRWRpdCxcclxuICBwaG90b0VkaXQsXHJcbn0gZnJvbSBcIi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBQb3BVcFdpdGhGb3JtQWRkIH0gZnJvbSBcIi4vY29tcG9uZW50cy9Qb3BVcFdpdGhGb3JtQWRkLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBQb3BVcFdpdGhGb3JtRWRpdCB9IGZyb20gXCIuL2NvbXBvbmVudHMvUG9wVXBXaXRoRm9ybUVkaXQuanNcIjtcclxuXHJcbmltcG9ydCB7IFBvcFVwV2l0aFBob3RvRWRpdCB9IGZyb20gXCIuL2NvbXBvbmVudHMvUG9wVXBXaXRoUGhvdG9FZGl0LmpzXCI7XHJcblxyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSBcIi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5cclxuY29uc3QgZ2V0Q2FyZHMgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImNhcmRzXCIsXHJcbiAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gIGJvZHk6IG51bGwsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCIyOGQxZjc3Yi0zNjA1LTQ0OWYtYmYxNi0yMGE1MjE2ZjhmZGJcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZ2V0Q2FyZHNcclxuICAuY2FyZCgpXHJcbiAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJMaXN0YSBkZSBjYXJkczogXCIgKyByZXN1bHQpO1xyXG4gICAgY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcclxuICAgICAge1xyXG4gICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgICAgICAgICAgaXRlbS5uYW1lLFxyXG4gICAgICAgICAgICBpdGVtLmxpbmssXHJcbiAgICAgICAgICAgIGl0ZW0uX2lkLFxyXG4gICAgICAgICAgICBpdGVtLmxpa2VzLFxyXG4gICAgICAgICAgICBpdGVtLm93bmVyLFxyXG4gICAgICAgICAgICBcIi5jYXJkLXRlbXBsYXRlXCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICAgICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBjb250ZW50Q2FyZExpc3RcclxuICAgICk7XHJcblxyXG4gICAgY2FyZExpc3QucmVuZGVySXRlbXMoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH0pXHJcbiAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgY29udGVudENhcmRMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJzaGltbWVyXCIpO1xyXG4gIH0pO1xyXG5cclxuY29uc3QgZ2V0SW5mb3JtYXRpb25Qcm9maWxlID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJ1c2Vycy9tZVwiLFxyXG4gIG1ldGhvZDogXCJHRVRcIixcclxuICBib2R5OiBudWxsLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiMjhkMWY3N2ItMzYwNS00NDlmLWJmMTYtMjBhNTIxNmY4ZmRiXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbmdldEluZm9ybWF0aW9uUHJvZmlsZVxyXG4gIC5wcm9maWxlKClcclxuICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgcGhvdG9FZGl0LnNyYyA9IHJlc3VsdC5hdmF0YXI7XHJcbiAgICBsYWJlbE5hbWUudGV4dENvbnRlbnQgPSByZXN1bHQubmFtZTtcclxuICAgIGxhYmVsT2N1cGF0aW9uLnRleHRDb250ZW50ID0gcmVzdWx0LmFib3V0O1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSlcclxuICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICBwaG90b0VkaXQuc3R5bGUuekluZGV4ID0gXCIwXCI7XHJcbiAgICBwcm9maWxlSW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcInNoaW1tZXJcIik7XHJcbiAgICBsYWJlbE5hbWUuY2xhc3NMaXN0LnJlbW92ZShcInNoaW1tZXJcIik7XHJcbiAgICBsYWJlbE9jdXBhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwic2hpbW1lclwiKTtcclxuICB9KTtcclxuXHJcbmNvbnN0IHJlbmRlclBvcFVwcyA9ICgpID0+IHtcclxuICBjb25zdCBQb3BVcEZvcm1FZGl0ID0gbmV3IFBvcFVwV2l0aEZvcm1FZGl0KFxyXG4gICAgY29udGVudFBvcFVwRWRpdCxcclxuICAgIFwiY29udGVudC1tb2RhbF92aXNpYmlsaXR5X3Zpc2libGVcIixcclxuICAgIGJ1dHRvbkNsb3NlTW9kYWxFZGl0LFxyXG4gICAgYnV0dG9uT3Blbk1vZGFsRWRpdCxcclxuICAgIGJ1dHRvblN1Ym1pdEVkaXQsXHJcbiAgICBpbnB1dE5hbWUsXHJcbiAgICBpbnB1dE9jdXBhdGlvbixcclxuICAgIGxhYmVsTmFtZSxcclxuICAgIGxhYmVsT2N1cGF0aW9uXHJcbiAgKTtcclxuICBQb3BVcEZvcm1FZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gIGNvbnN0IFBvcFVwRm9ybUFkZCA9IG5ldyBQb3BVcFdpdGhGb3JtQWRkKFxyXG4gICAgY29udGVudFBvcFVwQWRkLFxyXG4gICAgXCJjb250ZW50LW1vZGFsX3Zpc2liaWxpdHlfdmlzaWJsZVwiLFxyXG4gICAgYnV0dG9uQ2xvc2VNb2RhbEFkZCxcclxuICAgIGJ1dHRvbk9wZW5Nb2RhbEFkZCxcclxuICAgIGJ1dHRvblN1Ym1pdEFkZCxcclxuICAgIGlucHV0TmFtZVBsYWNlLFxyXG4gICAgaW5wdXRVcmxQbGFjZVxyXG4gICk7XHJcbiAgUG9wVXBGb3JtQWRkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gIGNvbnN0IFBvcFVwUGhvdG9FZGl0ID0gbmV3IFBvcFVwV2l0aFBob3RvRWRpdChcclxuICAgIGNvbnRlbnRQb3BVcEVkaXRQaG90byxcclxuICAgIFwiY29udGVudC1tb2RhbF92aXNpYmlsaXR5X3Zpc2libGVcIixcclxuICAgIGJ1dHRvbkNsb3NlTW9kYWxFZGl0UGhvdG8sXHJcbiAgICBidXR0b25PcGVuTW9kYWxFZGl0UGhvdG8sXHJcbiAgICBidXR0b25TdWJtaXRFZGl0UGhvdG8sXHJcbiAgICBpbnB1dFVybEVkaXQsXHJcbiAgICBwaG90b0VkaXRcclxuICApO1xyXG4gIFBvcFVwUGhvdG9FZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbn07XHJcblxyXG5yZW5kZXJQb3BVcHMoKTtcclxuXHJcbmNvbnN0IHJlbmRlckZvcm1WYWxpZGF0b3IgPSAoKSA9PiB7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGZpZWxkc2V0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWwtZm9ybV9fc2V0XCIpXHJcbiAgICApO1xyXG4gICAgZmllbGRzZXRMaXN0LmZvckVhY2goKGZpZWxkc2V0KSA9PiB7XHJcbiAgICAgIGNvbnN0IGZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudCwgZmllbGRzZXQpO1xyXG4gICAgICBmb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59O1xyXG5cclxucmVuZGVyRm9ybVZhbGlkYXRvcigpO1xyXG4iXSwibmFtZXMiOlsiY29udGVudFBvcFVwRWRpdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnRQb3BVcEFkZCIsImNvbnRlbnRQb3BVcEVkaXRQaG90byIsImNvbnRlbnRQb3BVcERlbGV0ZUNhcmQiLCJjb250ZW50UG9wVXBJbWFnZSIsImNvbnRlbnRDYXJkTGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXR0b25TdWJtaXRFZGl0IiwiYnV0dG9uU3VibWl0QWRkIiwiYnV0dG9uU3VibWl0RWRpdFBob3RvIiwiYnV0dG9uU3VibWl0RGVsZXRlQ2FyZCIsImJ1dHRvbkNsb3NlTW9kYWxFZGl0IiwiYnV0dG9uQ2xvc2VNb2RhbEFkZCIsImJ1dHRvbkNsb3NlTW9kYWxFZGl0UGhvdG8iLCJidXR0b25DbG9zZU1vZGFsRGVsZXRlQ2FyZCIsImJ1dHRvbkNsb3NlTW9kYWxJbWFnZSIsImJ1dHRvbk9wZW5Nb2RhbEFkZCIsImJ1dHRvbk9wZW5Nb2RhbEVkaXQiLCJwcm9maWxlSW1hZ2UiLCJidXR0b25PcGVuTW9kYWxFZGl0UGhvdG8iLCJsYWJlbE5hbWUiLCJsYWJlbE9jdXBhdGlvbiIsImlucHV0TmFtZSIsImlucHV0T2N1cGF0aW9uIiwiaW5wdXROYW1lUGxhY2UiLCJpbnB1dFVybFBsYWNlIiwiaW5wdXRVcmxFZGl0IiwicGhvdG9FZGl0IiwiZm9ybUxpc3QiLCJBcnJheSIsImZyb20iLCJBcGkiLCJvcHRpb25zIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9tZXRob2QiLCJtZXRob2QiLCJfYm9keSIsImJvZHkiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJrZXkiLCJ2YWx1ZSIsImZldGNoIiwiY29uY2F0IiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJQb3BVcCIsImNvbnRlbnRQb3BVcCIsImNvbnRlbnRQb3BVcFNlbGVjdG9yIiwiY2xvc2VCdXR0b25Qb3BVcCIsIm9wZW5CdXR0b25Qb3BVcCIsIl9jb250ZW50UG9wVXAiLCJfY29udGVudFBvcFVwU2VsZWN0b3IiLCJfY2xvc2VCdXR0b25Qb3BVcCIsIl9vcGVuQnV0dG9uUG9wVXAiLCJfY2xvc2VQb3BVcEtleURvd24iLCJiaW5kIiwiX2Nsb3NlUG9wVXBPdXRzaWRlQ2xpY2siLCJfb3BlblBvcFVwIiwiX2Nsb3NlUG9wVXAiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJzdHlsZSIsIm92ZXJmbG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJ0YXJnZXQiLCJfZGlzYWJsZVNjcm9sbCIsIl90b2dnbGVQb3BVcCIsIl9hZGRFdmVudHMiLCJfZW5hYmxlU2Nyb2xsIiwiX3JlbW92ZUV2ZW50cyIsIlBvcFVwV2l0aEltYWdlIiwiX1BvcFVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwic3JjIiwidGV4dENvbnRlbnQiLCJfdGhpcyIsImNhbGwiLCJfc3JjIiwiX3RleHRDb250ZW50IiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImNoaWxkcmVuIiwiUG9wVXBEZWxldGVDYXJkIiwic3VibWl0QnV0dG9uUG9wVXAiLCJjYXJkIiwiaWRDYXJkIiwiX3N1Ym1pdEJ1dHRvblBvcFVwIiwiX2NhcmQiLCJfaWRDYXJkIiwiX3N1Ym1pdFBvcFVwIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIl90aGlzMiIsImF1dGhvcml6YXRpb24iLCJyZXN1bHQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJmaW5hbGx5IiwicmVtb3ZlIiwiQ2FyZCIsIm5hbWUiLCJsaW5rIiwibGlrZXMiLCJ1c2VyIiwiY2FyZFNlbGVjdG9yIiwiX3RpdGxlIiwiX2ltYWdlIiwiX2xpa2VzIiwiX2lzTGlrZWQiLCJfdXNlciIsIl9jYXJkU2VsZWN0b3IiLCJfY2FyZEVsZW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRQaG90b0l0ZW0iLCJfY2FyZFRpdGxlIiwiX2RlbGV0ZUJ1dHRvbiIsIl9saWtlQnV0dG9uIiwiX2NvbnRMaWtlcyIsImZvckVhY2giLCJlbGVtZW50IiwiX2lkIiwiYWRkIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJsZW5ndGgiLCJzZXRFdmVudExpc3RlbmVycyIsIlBvcFVwV2l0aEZvcm1BZGQiLCJmaXJzdElucHV0UG9wVXAiLCJzZWNvbmRJbnB1dFBvcFVwIiwiX2ZpcnN0SW5wdXRQb3BVcCIsIl9zZWNvbmRJbnB1dFBvcFVwIiwiX2NyZWF0ZUNhcmQiLCJKU09OIiwic3RyaW5naWZ5IiwibmV3Q2FyZEVsZW1lbnQiLCJvd25lciIsImdlbmVyYXRlQ2FyZCIsInByZXBlbmQiLCJQb3BVcFdpdGhGb3JtRWRpdCIsImZpcnN0TGFiZWxQb3BVcCIsInNlY29uZExhYmVsUG9wVXAiLCJfZmlyc3RMYWJlbFBvcFVwIiwiX3NlY29uZExhYmVsUG9wVXAiLCJhYm91dCIsInByb2ZpbGUiLCJQb3BVcFdpdGhQaG90b0VkaXQiLCJfcGhvdG9FZGl0IiwiYXZhdGFyIiwiRm9ybVZhbGlkYXRvciIsImZvcm0iLCJmb3JtRWxlbWVudHMiLCJfZm9ybSIsIl9mb3JtRWxlbWVudHMiLCJfaW5wdXRMaXN0Iiwic29tZSIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0IiwiX2J1dHRvbkVsZW1lbnQiLCJkaXNhYmxlZCIsIl9lcnJvckVsZW1lbnQiLCJfaW5wdXRFbGVtZW50TGlzdCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwicHJldmVudERlZmF1bHQiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwiZGF0YSIsInJlbmRlcmVyIiwiX3JlbmRlcmVkSXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiYXBwZW5kIiwiaW5uZXJIVE1MIiwiY2xlYXIiLCJpdGVtIiwiY2FyZExpc3QiLCJjYXJkRWxlbWVudCIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyIsInpJbmRleCIsImZvcm1FbGVtZW50IiwiZmllbGRzZXQiLCJlbmFibGVWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==