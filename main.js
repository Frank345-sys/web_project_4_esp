!function(){"use strict";var t=document.querySelector(".content-modal_edit"),e=document.querySelector(".content-modal_add"),o=document.querySelector(".content-modal_edit-photo"),n=document.querySelector(".content-modal_delete-card"),r=document.querySelector(".content-pop-up_image"),i=(document.querySelectorAll(".card"),document.querySelector(".content-photos")),c=document.querySelector(".button_edit"),u=document.querySelector(".button_add"),l=document.querySelector(".button_edit-photo"),s=document.querySelector(".button_delete-card"),a=document.querySelector(".modal__button-close_edit"),f=document.querySelector(".modal__button-close_add"),p=document.querySelector(".modal__button-close_edit-photo"),y=document.querySelector(".modal__button-close_delete-card"),d=document.querySelector(".pop-up-window__button-close"),b=document.querySelector(".content-profile__add-button"),h=document.querySelector(".content-prof-info-text__edit-button"),m=document.querySelector(".profile-image"),_=document.querySelector(".profile-image__edit-icon"),v=document.querySelector(".content-prof-info-text__name"),P=document.querySelector(".content-prof-info-text__ocupation"),g=document.querySelector(".input_name"),w=document.querySelector(".input_ocupation"),S=document.querySelector(".input_name-place"),E=document.querySelector(".input_url"),U=document.querySelector(".input_url-edit"),O=document.querySelector(".profile-image__image"),k=Array.from(document.querySelectorAll(".modal-form"));function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function L(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==j(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===j(r)?r:String(r)),n)}var r}var C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._method=e.method,this._body=e.body,this._headers=e.headers}var e,o;return e=t,(o=[{key:"card",value:function(){return fetch("https://around.nomoreparties.co/v1/web_es_08/".concat(this._baseUrl),{method:this._method,body:this._body,headers:this._headers}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))}))}},{key:"profile",value:function(){return fetch("https://around.nomoreparties.co/v1/web_es_08/".concat(this._baseUrl),{method:this._method,body:this._body,headers:this._headers}).then((function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))}))}}])&&L(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function R(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==T(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===T(r)?r:String(r)),n)}var r}var B=function(){function t(e,o,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._contentPopUp=e,this._contentPopUpSelector=o,this._closeButtonPopUp=n,this._openButtonPopUp=r,this._closePopUpKeyDown=this._closePopUpKeyDown.bind(this),this._closePopUpOutsideClick=this._closePopUpOutsideClick.bind(this),this._openPopUp=this._openPopUp.bind(this),this._closePopUp=this._closePopUp.bind(this)}var e,o;return e=t,(o=[{key:"_togglePopUp",value:function(){this._contentPopUp.classList.toggle(this._contentPopUpSelector)}},{key:"_enableScroll",value:function(){document.body.style.overflow="auto"}},{key:"_disableScroll",value:function(){document.body.style.overflow="hidden"}},{key:"_addEvents",value:function(){document.addEventListener("keydown",this._closePopUpKeyDown),this._contentPopUp.addEventListener("click",this._closePopUpOutsideClick),this._closeButtonPopUp.addEventListener("click",this._closePopUp)}},{key:"_removeEvents",value:function(){document.removeEventListener("keydown",this._closePopUpKeyDown),this._contentPopUp.removeEventListener("click",this._closePopUpOutsideClick),this._closeButtonPopUp.removeEventListener("click",this._closePopUp)}},{key:"_closePopUpKeyDown",value:function(t){"Escape"===t.key&&this._closePopUp()}},{key:"_closePopUpOutsideClick",value:function(t){t.target===this._contentPopUp&&this._closePopUp()}},{key:"_openPopUp",value:function(){this._disableScroll(),this._togglePopUp(),this._addEvents()}},{key:"_closePopUp",value:function(){this._enableScroll(),this._togglePopUp(),this._removeEvents()}},{key:"setEventListeners",value:function(){this._openButtonPopUp.addEventListener("click",this._openPopUp)}}])&&R(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function x(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==q(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===q(r)?r:String(r)),n)}var r}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=z(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},I.apply(this,arguments)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(c,t);var e,o,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(n);if(r){var o=z(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e,o,n,r){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(u=i.call(this,t,e,o))._src=n,u._textContent=r,u}return e=c,(o=[{key:"_addEvents",value:function(){I(z(c.prototype),"_addEvents",this).call(this),this._contentPopUp.children[0].children[1].src=this._src,this._contentPopUp.children[0].children[2].textContent=this._textContent}},{key:"setEventListeners",value:function(){this._openPopUp()}}])&&x(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(B);function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function G(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==K(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===K(r)?r:String(r)),n)}var r}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},N.apply(this,arguments)}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(c,t);var e,o,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=J(n);if(r){var o=J(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return H(t)}(this,t)});function c(t,e,o,n,r,u){var l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(l=i.call(this,t,e,o))._submitButtonPopUp=n,l._card=r,l._idCard=u,l._submitPopUp=l._submitPopUp.bind(H(l)),l}return e=c,(o=[{key:"_addEvents",value:function(){N(J(c.prototype),"_addEvents",this).call(this),this._submitButtonPopUp.addEventListener("click",this._submitPopUp)}},{key:"_removeEvents",value:function(){N(J(c.prototype),"_removeEvents",this).call(this),this._submitButtonPopUp.removeEventListener("click",this._submitPopUp)}},{key:"_submitPopUp",value:function(){var t=this;this._submitButtonPopUp.textContent="Eliminando...",new C({baseUrl:"cards/".concat(this._idCard),method:"DELETE",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(t){console.log(t)})).catch((function(e){t._closePopUp(),console.log(e)})).finally((function(){t._closePopUp(),t._card.remove(),t._submitButtonPopUp.textContent="Eliminar"}))}},{key:"setEventListeners",value:function(){this._openPopUp()}}])&&G(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(B);function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function Q(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==F(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===F(r)?r:String(r)),n)}var r}var W=function(){function t(e,o,n,r,i,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._title=e,this._image=o,this._idCard=n,this._likes=r,this._isLiked=!1,this._user=i,this._cardSelector=c}var e,o;return e=t,(o=[{key:"_getTemplate",value:function(){var t=this;return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardPhotoItem=this._cardElement.querySelector(".card__photo-item"),this._cardTitle=this._cardElement.querySelector(".content-footer-card__title"),this._deleteButton=this._cardElement.querySelector(".card__button-delete"),this._likeButton=this._cardElement.querySelector(".heart-button__icon"),this._contLikes=this._cardElement.querySelector(".content-footer-card__likes"),this._likes.forEach((function(e){e._id===t._user._id&&(t._likeButton.classList.add("heart-button__icon_liked"),t._isLiked=!0)})),this._cardElement}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._cardPhotoItem.src=this._image,this._cardTitle.textContent=this._title,this._contLikes.textContent=this._likes.length,this._element}},{key:"_setEventListeners",value:function(){var t=this;this._cardPhotoItem.addEventListener("click",(function(){new A(r,"content-pop-up_visibility_visible",d,t._image,t._title).setEventListeners()})),this._deleteButton.addEventListener("click",(function(){new M(n,"content-modal_visibility_visible",y,s,t._element,t._idCard).setEventListeners()})),this._likeButton.addEventListener("click",(function(){!1===t._isLiked?new C({baseUrl:"cards/likes/".concat(t._idCard),method:"PUT",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(e){t._contLikes.textContent=e.likes.length})).catch((function(t){console.log(t)})).finally((function(e){t._isLiked=!t._isLiked,t._likeButton.classList.add("heart-button__icon_liked")})):!0===t._isLiked&&new C({baseUrl:"cards/likes/".concat(t._idCard),method:"DELETE",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(e){t._contLikes.textContent=e.likes.length})).catch((function(t){console.log(t)})).finally((function(e){t._isLiked=!t._isLiked,t._likeButton.classList.remove("heart-button__icon_liked")}))}))}}])&&Q(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Y(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==X(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===X(r)?r:String(r)),n)}var r}function Z(){return Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=et(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},Z.apply(this,arguments)}function $(t,e){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$(t,e)}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}var ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$(t,e)}(u,t);var e,o,n,r,c=(n=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=et(n);if(r){var o=et(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tt(t)}(this,t)});function u(t,e,o,n,r,i,l){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(s=c.call(this,t,e,o,n))._submitButtonPopUp=r,s._firstInputPopUp=i,s._secondInputPopUp=l,s._submitPopUp=s._submitPopUp.bind(tt(s)),s}return e=u,(o=[{key:"_addEvents",value:function(){Z(et(u.prototype),"_addEvents",this).call(this),this._submitButtonPopUp.addEventListener("click",this._submitPopUp)}},{key:"_removeEvents",value:function(){Z(et(u.prototype),"_removeEvents",this).call(this),this._submitButtonPopUp.removeEventListener("click",this._submitPopUp)}},{key:"_submitPopUp",value:function(){this._createCard()}},{key:"_createCard",value:function(){var t=this;this._submitButtonPopUp.textContent="Creando...",new C({baseUrl:"cards",method:"POST",body:JSON.stringify({name:this._firstInputPopUp.value,link:this._secondInputPopUp.value}),headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(t){var e=new W(t.name,t.link,t._id,t.likes,t.owner,".card-template").generateCard();i.prepend(e)})).catch((function(e){t._closePopUp(),console.log(e)})).finally((function(e){t._closePopUp(),t._submitButtonPopUp.textContent="Crear"}))}}])&&Y(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),u}(B);function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function rt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==nt(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===nt(r)?r:String(r)),n)}var r}function it(){return it="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lt(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},it.apply(this,arguments)}function ct(t,e){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ct(t,e)}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ct(t,e)}(c,t);var e,o,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lt(n);if(r){var o=lt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}(this,t)});function c(t,e,o,n,r,u,l,s,a){var f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(f=i.call(this,t,e,o,n))._submitButtonPopUp=r,f._firstInputPopUp=u,f._secondInputPopUp=l,f._firstLabelPopUp=s,f._secondLabelPopUp=a,f._submitPopUp=f._submitPopUp.bind(ut(f)),f}return e=c,(o=[{key:"_addEvents",value:function(){it(lt(c.prototype),"_addEvents",this).call(this),this._firstInputPopUp.value=this._firstLabelPopUp.textContent,this._secondInputPopUp.value=this._secondLabelPopUp.textContent,this._submitButtonPopUp.addEventListener("click",this._submitPopUp)}},{key:"_removeEvents",value:function(){it(lt(c.prototype),"_removeEvents",this).call(this),this._submitButtonPopUp.removeEventListener("click",this._submitPopUp)}},{key:"_submitPopUp",value:function(){var t=this;this._submitButtonPopUp.textContent="Editando...",new C({baseUrl:"users/me",method:"PATCH",body:JSON.stringify({name:this._firstInputPopUp.value,about:this._secondInputPopUp.value}),headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).profile().then((function(e){console.log("Resultado del perfil con los nuevos datos: "+e),t._firstLabelPopUp.textContent=e.name,t._secondLabelPopUp.textContent=e.about})).catch((function(e){t._closePopUp(),console.log(e)})).finally((function(){t._closePopUp(),t._submitButtonPopUp.textContent="Guardar",console.log("Se editó la información del perfil con exito")}))}}])&&rt(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(B);function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function ft(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==at(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===at(r)?r:String(r)),n)}var r}function pt(){return pt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bt(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}},pt.apply(this,arguments)}function yt(t,e){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yt(t,e)}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}var ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(c,t);var e,o,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(n);if(r){var o=bt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===at(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}(this,t)});function c(t,e,o,n,r,u,l){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(s=i.call(this,t,e,o,n))._submitButtonPopUp=r,s._firstInputPopUp=u,s._photoEdit=l,s._submitPopUp=s._submitPopUp.bind(dt(s)),s}return e=c,(o=[{key:"_addEvents",value:function(){pt(bt(c.prototype),"_addEvents",this).call(this),this._submitButtonPopUp.addEventListener("click",this._submitPopUp)}},{key:"_removeEvents",value:function(){pt(bt(c.prototype),"_removeEvents",this).call(this),this._submitButtonPopUp.removeEventListener("click",this._submitPopUp)}},{key:"_submitPopUp",value:function(){var t=this;this._submitButtonPopUp.textContent="Editando...",new C({baseUrl:"users/me/avatar",method:"PATCH",body:JSON.stringify({avatar:this._firstInputPopUp.value}),headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).profile().then((function(e){console.log("Resultado de cambio de foto de perfil actualizado: "+e),t._photoEdit.src=e.avatar})).catch((function(e){t._closePopUp(),console.log(e)})).finally((function(){t._closePopUp(),t._submitButtonPopUp.textContent="Guardar",console.log("Se editó la foto de perfil con exito")}))}}])&&ft(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(B);function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function _t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==mt(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===mt(r)?r:String(r)),n)}var r}var vt=function(){function t(e,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._form=e,this._formElements=o}var e,o;return e=t,(o=[{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add("button_inactive"),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove("button_inactive"),this._buttonElement.disabled=!1)}},{key:"_showInputError",value:function(){this._errorElement=this._form.querySelector(".error_".concat(this._inputElementList.id)),this._inputElementList.classList.add("input_error-active"),this._errorElement.classList.add("error_active"),this._errorElement.textContent=this._inputElementList.validationMessage}},{key:"_hideInputError",value:function(){this._errorElement=this._form.querySelector(".error_".concat(this._inputElementList.id)),this._inputElementList.classList.remove("input_error-active"),this._errorElement.classList.remove("error_active"),this._errorElement.textContent=""}},{key:"_checkInputValidity",value:function(){this._inputElementList.validity.valid?this._hideInputError():this._showInputError()}},{key:"enableValidation",value:function(){var t=this;this._inputList=Array.from(this._formElements.querySelectorAll(".input")),this._buttonElement=this._formElements.querySelector(".button"),this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._inputElementList=e,t._checkInputValidity(),t._toggleButtonState()}))})),this._form.addEventListener("submit",(function(t){t.preventDefault()}))}}])&&_t(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function gt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==Pt(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==Pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Pt(r)?r:String(r)),n)}var r}var wt=function(){function t(e,o){var n=e.data,r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderedItems=n,this._renderer=r,this._container=o}var e,o;return e=t,(o=[{key:"addItem",value:function(t){this._container.append(t)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var t=this;this.clear(),this._renderedItems.forEach((function(e){t._renderer(e)}))}}])&&gt(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();new C({baseUrl:"cards",method:"GET",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).card().then((function(t){console.log("Lista de cards: "+t);var e=new wt({data:t,renderer:function(t){var o=new W(t.name,t.link,t._id,t.likes,t.owner,".card-template").generateCard();e.addItem(o)}},i);e.renderItems()})).catch((function(t){console.log(t)})).finally((function(){i.classList.remove("shimmer")})),new C({baseUrl:"users/me",method:"GET",body:null,headers:{authorization:"28d1f77b-3605-449f-bf16-20a5216f8fdb","Content-Type":"application/json"}}).profile().then((function(t){console.log(t),O.src=t.avatar,v.textContent=t.name,P.textContent=t.about})).catch((function(t){console.log(t)})).finally((function(){O.style.zIndex="0",m.classList.remove("shimmer"),v.classList.remove("shimmer"),P.classList.remove("shimmer")})),new st(t,"content-modal_visibility_visible",a,h,c,g,w,v,P).setEventListeners(),new ot(e,"content-modal_visibility_visible",f,b,u,S,E).setEventListeners(),new ht(o,"content-modal_visibility_visible",p,_,l,U,O).setEventListeners(),k.forEach((function(t){Array.from(t.querySelectorAll(".modal-form__set")).forEach((function(e){new vt(t,e).enableValidation()}))}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3NFLEdBQ0s5SyxNQUFNQyxLQUN6QjZLLEVBQVlyTSxpQkFBaUIscUJBRWxCK0gsU0FBUSxTQUFDdUUsR0FDUCxJQUFJeEMsR0FBY3VDLEVBQWFDLEdBQ3ZDQyxrQkFDUCxHQUNGLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3BVcC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcFVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wVXBEZWxldGVDYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcFVwV2l0aEZvcm1BZGQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3BVcFdpdGhGb3JtRWRpdC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcFVwV2l0aFBob3RvRWRpdC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBjb250ZW50UG9wVXBFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50LW1vZGFsX2VkaXRcIik7XHJcblxyXG5leHBvcnQgY29uc3QgY29udGVudFBvcFVwQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50LW1vZGFsX2FkZFwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb250ZW50UG9wVXBFZGl0UGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmNvbnRlbnQtbW9kYWxfZWRpdC1waG90b1wiXHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgY29udGVudFBvcFVwRGVsZXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuY29udGVudC1tb2RhbF9kZWxldGUtY2FyZFwiXHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgY29udGVudFBvcFVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmNvbnRlbnQtcG9wLXVwX2ltYWdlXCJcclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjYXJkSW1hZ2VMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXJkXCIpO1xyXG5leHBvcnQgY29uc3QgY29udGVudENhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50LXBob3Rvc1wiKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvblN1Ym1pdEVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl9lZGl0XCIpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uU3VibWl0QWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25fYWRkXCIpO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uU3VibWl0RWRpdFBob3RvID1cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl9lZGl0LXBob3RvXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGJ1dHRvblN1Ym1pdERlbGV0ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmJ1dHRvbl9kZWxldGUtY2FyZFwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25DbG9zZU1vZGFsRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIubW9kYWxfX2J1dHRvbi1jbG9zZV9lZGl0XCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkNsb3NlTW9kYWxBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLm1vZGFsX19idXR0b24tY2xvc2VfYWRkXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkNsb3NlTW9kYWxFZGl0UGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLm1vZGFsX19idXR0b24tY2xvc2VfZWRpdC1waG90b1wiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25DbG9zZU1vZGFsRGVsZXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIubW9kYWxfX2J1dHRvbi1jbG9zZV9kZWxldGUtY2FyZFwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25DbG9zZU1vZGFsSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnBvcC11cC13aW5kb3dfX2J1dHRvbi1jbG9zZVwiXHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgYnV0dG9uT3Blbk1vZGFsQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5jb250ZW50LXByb2ZpbGVfX2FkZC1idXR0b25cIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgYnV0dG9uT3Blbk1vZGFsRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuY29udGVudC1wcm9mLWluZm8tdGV4dF9fZWRpdC1idXR0b25cIlxyXG4pO1xyXG5cclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZS1pbWFnZVwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBidXR0b25PcGVuTW9kYWxFZGl0UGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnByb2ZpbGUtaW1hZ2VfX2VkaXQtaWNvblwiXHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgbGFiZWxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5jb250ZW50LXByb2YtaW5mby10ZXh0X19uYW1lXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGxhYmVsT2N1cGF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5jb250ZW50LXByb2YtaW5mby10ZXh0X19vY3VwYXRpb25cIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnB1dF9uYW1lXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGlucHV0T2N1cGF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnB1dF9vY3VwYXRpb25cIik7XHJcblxyXG5leHBvcnQgY29uc3QgaW5wdXROYW1lUGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlucHV0X25hbWUtcGxhY2VcIik7XHJcblxyXG5leHBvcnQgY29uc3QgaW5wdXRVcmxQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRfdXJsXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGlucHV0VXJsRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5wdXRfdXJsLWVkaXRcIik7XHJcblxyXG5leHBvcnQgY29uc3QgcGhvdG9FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlLWltYWdlX19pbWFnZVwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbC1mb3JtXCIpKTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYWxsZSBkZSBZb3NlbWl0ZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy95b3NlbWl0ZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBMb3Vpc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk1vbnRhw7FhcyBDYWx2YXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGF0ZW1hci5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiUGFycXVlIE5hY2lvbmFsIGRlIGxhIFZhbm9pc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvdmFub2lzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGFnby5qcGdcIixcclxuICB9LFxyXG5dO1xyXG4iLCJleHBvcnQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5fbWV0aG9kID0gb3B0aW9ucy5tZXRob2Q7XHJcbiAgICB0aGlzLl9ib2R5ID0gb3B0aW9ucy5ib2R5O1xyXG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICB9XHJcblxyXG4gIGNhcmQoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goXHJcbiAgICAgIGBodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18wOC8ke3RoaXMuX2Jhc2VVcmx9YCxcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogdGhpcy5fbWV0aG9kLFxyXG4gICAgICAgIGJvZHk6IHRoaXMuX2JvZHksXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfVxyXG4gICAgKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJvZmlsZSgpIHtcclxuICAgIHJldHVybiBmZXRjaChcclxuICAgICAgYGh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzA4LyR7dGhpcy5fYmFzZVVybH1gLFxyXG4gICAgICB7XHJcbiAgICAgICAgbWV0aG9kOiB0aGlzLl9tZXRob2QsXHJcbiAgICAgICAgYm9keTogdGhpcy5fYm9keSxcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9XHJcbiAgICApLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBQb3BVcCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBjb250ZW50UG9wVXAsXHJcbiAgICBjb250ZW50UG9wVXBTZWxlY3RvcixcclxuICAgIGNsb3NlQnV0dG9uUG9wVXAsXHJcbiAgICBvcGVuQnV0dG9uUG9wVXBcclxuICApIHtcclxuICAgIHRoaXMuX2NvbnRlbnRQb3BVcCA9IGNvbnRlbnRQb3BVcDtcclxuICAgIHRoaXMuX2NvbnRlbnRQb3BVcFNlbGVjdG9yID0gY29udGVudFBvcFVwU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvblBvcFVwID0gY2xvc2VCdXR0b25Qb3BVcDtcclxuICAgIHRoaXMuX29wZW5CdXR0b25Qb3BVcCA9IG9wZW5CdXR0b25Qb3BVcDtcclxuXHJcbiAgICB0aGlzLl9jbG9zZVBvcFVwS2V5RG93biA9IHRoaXMuX2Nsb3NlUG9wVXBLZXlEb3duLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9jbG9zZVBvcFVwT3V0c2lkZUNsaWNrID0gdGhpcy5fY2xvc2VQb3BVcE91dHNpZGVDbGljay5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5fb3BlblBvcFVwID0gdGhpcy5fb3BlblBvcFVwLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9jbG9zZVBvcFVwID0gdGhpcy5fY2xvc2VQb3BVcC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZVBvcFVwKCkge1xyXG4gICAgdGhpcy5fY29udGVudFBvcFVwLmNsYXNzTGlzdC50b2dnbGUodGhpcy5fY29udGVudFBvcFVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgX2VuYWJsZVNjcm9sbCgpIHtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcclxuICB9XHJcblxyXG4gIF9kaXNhYmxlU2Nyb2xsKCkge1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgfVxyXG5cclxuICBfYWRkRXZlbnRzKCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fY2xvc2VQb3BVcEtleURvd24pO1xyXG4gICAgdGhpcy5fY29udGVudFBvcFVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9jbG9zZVBvcFVwT3V0c2lkZUNsaWNrKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uUG9wVXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2Nsb3NlUG9wVXApO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUV2ZW50cygpIHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2Nsb3NlUG9wVXBLZXlEb3duKTtcclxuICAgIHRoaXMuX2NvbnRlbnRQb3BVcC5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgICBcImNsaWNrXCIsXHJcbiAgICAgIHRoaXMuX2Nsb3NlUG9wVXBPdXRzaWRlQ2xpY2tcclxuICAgICk7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvblBvcFVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9jbG9zZVBvcFVwKTtcclxuICB9XHJcblxyXG4gIF9jbG9zZVBvcFVwS2V5RG93bihldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuX2Nsb3NlUG9wVXAoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9jbG9zZVBvcFVwT3V0c2lkZUNsaWNrKGV2dCkge1xyXG4gICAgaWYgKGV2dC50YXJnZXQgPT09IHRoaXMuX2NvbnRlbnRQb3BVcCkge1xyXG4gICAgICB0aGlzLl9jbG9zZVBvcFVwKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfb3BlblBvcFVwKCkge1xyXG4gICAgdGhpcy5fZGlzYWJsZVNjcm9sbCgpO1xyXG4gICAgdGhpcy5fdG9nZ2xlUG9wVXAoKTtcclxuICAgIHRoaXMuX2FkZEV2ZW50cygpO1xyXG4gIH1cclxuXHJcbiAgX2Nsb3NlUG9wVXAoKSB7XHJcbiAgICB0aGlzLl9lbmFibGVTY3JvbGwoKTtcclxuICAgIHRoaXMuX3RvZ2dsZVBvcFVwKCk7XHJcbiAgICB0aGlzLl9yZW1vdmVFdmVudHMoKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fb3BlbkJ1dHRvblBvcFVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9vcGVuUG9wVXApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3BVcCB9IGZyb20gXCIuL1BvcFVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wVXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3BVcCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBjb250ZW50UG9wVXAsXHJcbiAgICBjb250ZW50UG9wVXBTZWxlY3RvcixcclxuICAgIGNsb3NlQnV0dG9uUG9wVXAsXHJcbiAgICBzcmMsXHJcbiAgICB0ZXh0Q29udGVudFxyXG4gICkge1xyXG4gICAgc3VwZXIoY29udGVudFBvcFVwLCBjb250ZW50UG9wVXBTZWxlY3RvciwgY2xvc2VCdXR0b25Qb3BVcCk7XHJcbiAgICB0aGlzLl9zcmMgPSBzcmM7XHJcbiAgICB0aGlzLl90ZXh0Q29udGVudCA9IHRleHRDb250ZW50O1xyXG4gIH1cclxuXHJcbiAgX2FkZEV2ZW50cygpIHtcclxuICAgIHN1cGVyLl9hZGRFdmVudHMoKTtcclxuICAgIHRoaXMuX2NvbnRlbnRQb3BVcC5jaGlsZHJlblswXS5jaGlsZHJlblsxXS5zcmMgPSB0aGlzLl9zcmM7XHJcbiAgICB0aGlzLl9jb250ZW50UG9wVXAuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMl0udGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0Q29udGVudDtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fb3BlblBvcFVwKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcFVwIH0gZnJvbSBcIi4vUG9wVXAuanNcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wVXBEZWxldGVDYXJkIGV4dGVuZHMgUG9wVXAge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgY29udGVudFBvcFVwLFxyXG4gICAgY29udGVudFBvcFVwU2VsZWN0b3IsXHJcbiAgICBjbG9zZUJ1dHRvblBvcFVwLFxyXG4gICAgc3VibWl0QnV0dG9uUG9wVXAsXHJcbiAgICBjYXJkLFxyXG4gICAgaWRDYXJkXHJcbiAgKSB7XHJcbiAgICBzdXBlcihjb250ZW50UG9wVXAsIGNvbnRlbnRQb3BVcFNlbGVjdG9yLCBjbG9zZUJ1dHRvblBvcFVwKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwID0gc3VibWl0QnV0dG9uUG9wVXA7XHJcbiAgICB0aGlzLl9jYXJkID0gY2FyZDtcclxuICAgIHRoaXMuX2lkQ2FyZCA9IGlkQ2FyZDtcclxuICAgIHRoaXMuX3N1Ym1pdFBvcFVwID0gdGhpcy5fc3VibWl0UG9wVXAuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIF9hZGRFdmVudHMoKSB7XHJcbiAgICBzdXBlci5fYWRkRXZlbnRzKCk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fc3VibWl0UG9wVXApO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUV2ZW50cygpIHtcclxuICAgIHN1cGVyLl9yZW1vdmVFdmVudHMoKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9zdWJtaXRQb3BVcCk7XHJcbiAgfVxyXG5cclxuICBfc3VibWl0UG9wVXAoKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC50ZXh0Q29udGVudCA9IFwiRWxpbWluYW5kby4uLlwiO1xyXG4gICAgY29uc3QgZGVsZXRlQ2FyZCA9IG5ldyBBcGkoe1xyXG4gICAgICBiYXNlVXJsOiBgY2FyZHMvJHt0aGlzLl9pZENhcmR9YCxcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBib2R5OiBudWxsLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCIyOGQxZjc3Yi0zNjA1LTQ0OWYtYmYxNi0yMGE1MjE2ZjhmZGJcIixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGRlbGV0ZUNhcmRcclxuICAgICAgLmNhcmQoKVxyXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICB0aGlzLl9jbG9zZVBvcFVwKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlUG9wVXAoKTtcclxuICAgICAgICB0aGlzLl9jYXJkLnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLnRleHRDb250ZW50ID0gXCJFbGltaW5hclwiO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fb3BlblBvcFVwKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgY29udGVudFBvcFVwSW1hZ2UsXHJcbiAgY29udGVudFBvcFVwRGVsZXRlQ2FyZCxcclxuICBidXR0b25DbG9zZU1vZGFsSW1hZ2UsXHJcbiAgYnV0dG9uQ2xvc2VNb2RhbERlbGV0ZUNhcmQsXHJcbiAgYnV0dG9uU3VibWl0RGVsZXRlQ2FyZCxcclxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuXHJcbmltcG9ydCB7IFBvcFVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wVXBXaXRoSW1hZ2UuanNcIjtcclxuXHJcbmltcG9ydCB7IFBvcFVwRGVsZXRlQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcFVwRGVsZXRlQ2FyZC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKG5hbWUsIGxpbmssIGlkQ2FyZCwgbGlrZXMsIHVzZXIsIGNhcmRTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fdGl0bGUgPSBuYW1lO1xyXG4gICAgdGhpcy5faW1hZ2UgPSBsaW5rO1xyXG4gICAgdGhpcy5faWRDYXJkID0gaWRDYXJkO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcclxuICAgIHRoaXMuX2lzTGlrZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuX3VzZXIgPSB1c2VyO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHRoaXMuX2NhcmRQaG90b0l0ZW0gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3Bob3RvLWl0ZW1cIik7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5jb250ZW50LWZvb3Rlci1jYXJkX190aXRsZVwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuY2FyZF9fYnV0dG9uLWRlbGV0ZVwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhcnQtYnV0dG9uX19pY29uXCIpO1xyXG4gICAgdGhpcy5fY29udExpa2VzID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuY29udGVudC1mb290ZXItY2FyZF9fbGlrZXNcIlxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9saWtlcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgIGlmIChlbGVtZW50Ll9pZCA9PT0gdGhpcy5fdXNlci5faWQpIHtcclxuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJoZWFydC1idXR0b25fX2ljb25fbGlrZWRcIik7XHJcbiAgICAgICAgdGhpcy5faXNMaWtlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2NhcmRQaG90b0l0ZW0uc3JjID0gdGhpcy5faW1hZ2U7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcclxuICAgIHRoaXMuX2NvbnRMaWtlcy50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZFBob3RvSXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcFVwV2l0aEltYWdlKFxyXG4gICAgICAgIGNvbnRlbnRQb3BVcEltYWdlLFxyXG4gICAgICAgIFwiY29udGVudC1wb3AtdXBfdmlzaWJpbGl0eV92aXNpYmxlXCIsXHJcbiAgICAgICAgYnV0dG9uQ2xvc2VNb2RhbEltYWdlLFxyXG4gICAgICAgIHRoaXMuX2ltYWdlLFxyXG4gICAgICAgIHRoaXMuX3RpdGxlXHJcbiAgICAgICk7XHJcbiAgICAgIHBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwb3B1cERlbGV0ZSA9IG5ldyBQb3BVcERlbGV0ZUNhcmQoXHJcbiAgICAgICAgY29udGVudFBvcFVwRGVsZXRlQ2FyZCxcclxuICAgICAgICBcImNvbnRlbnQtbW9kYWxfdmlzaWJpbGl0eV92aXNpYmxlXCIsXHJcbiAgICAgICAgYnV0dG9uQ2xvc2VNb2RhbERlbGV0ZUNhcmQsXHJcbiAgICAgICAgYnV0dG9uU3VibWl0RGVsZXRlQ2FyZCxcclxuICAgICAgICB0aGlzLl9lbGVtZW50LFxyXG4gICAgICAgIHRoaXMuX2lkQ2FyZFxyXG4gICAgICApO1xyXG4gICAgICBwb3B1cERlbGV0ZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5faXNMaWtlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCBsaWtlQ2FyZCA9IG5ldyBBcGkoe1xyXG4gICAgICAgICAgYmFzZVVybDogYGNhcmRzL2xpa2VzLyR7dGhpcy5faWRDYXJkfWAsXHJcbiAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgICBib2R5OiBudWxsLFxyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uOiBcIjI4ZDFmNzdiLTM2MDUtNDQ5Zi1iZjE2LTIwYTUyMTZmOGZkYlwiLFxyXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlrZUNhcmRcclxuICAgICAgICAgIC5jYXJkKClcclxuICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fY29udExpa2VzLnRleHRDb250ZW50ID0gcmVzdWx0Lmxpa2VzLmxlbmd0aDtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5maW5hbGx5KChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faXNMaWtlZCA9ICF0aGlzLl9pc0xpa2VkO1xyXG4gICAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJoZWFydC1idXR0b25fX2ljb25fbGlrZWRcIik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9pc0xpa2VkID09PSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgZGVsZXRlTGlrZUNhcmQgPSBuZXcgQXBpKHtcclxuICAgICAgICAgIGJhc2VVcmw6IGBjYXJkcy9saWtlcy8ke3RoaXMuX2lkQ2FyZH1gLFxyXG4gICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgYm9keTogbnVsbCxcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogXCIyOGQxZjc3Yi0zNjA1LTQ0OWYtYmYxNi0yMGE1MjE2ZjhmZGJcIixcclxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRlbGV0ZUxpa2VDYXJkXHJcbiAgICAgICAgICAuY2FyZCgpXHJcbiAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRMaWtlcy50ZXh0Q29udGVudCA9IHJlc3VsdC5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuZmluYWxseSgocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzTGlrZWQgPSAhdGhpcy5faXNMaWtlZDtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaGVhcnQtYnV0dG9uX19pY29uX2xpa2VkXCIpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3BVcCB9IGZyb20gXCIuL1BvcFVwLmpzXCI7XHJcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi9DYXJkLmpzXCI7XHJcbmltcG9ydCB7IGNvbnRlbnRDYXJkTGlzdCB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wVXBXaXRoRm9ybUFkZCBleHRlbmRzIFBvcFVwIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGNvbnRlbnRQb3BVcCxcclxuICAgIGNvbnRlbnRQb3BVcFNlbGVjdG9yLFxyXG4gICAgY2xvc2VCdXR0b25Qb3BVcCxcclxuICAgIG9wZW5CdXR0b25Qb3BVcCxcclxuICAgIHN1Ym1pdEJ1dHRvblBvcFVwLFxyXG4gICAgZmlyc3RJbnB1dFBvcFVwLFxyXG4gICAgc2Vjb25kSW5wdXRQb3BVcFxyXG4gICkge1xyXG4gICAgc3VwZXIoXHJcbiAgICAgIGNvbnRlbnRQb3BVcCxcclxuICAgICAgY29udGVudFBvcFVwU2VsZWN0b3IsXHJcbiAgICAgIGNsb3NlQnV0dG9uUG9wVXAsXHJcbiAgICAgIG9wZW5CdXR0b25Qb3BVcFxyXG4gICAgKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwID0gc3VibWl0QnV0dG9uUG9wVXA7XHJcbiAgICB0aGlzLl9maXJzdElucHV0UG9wVXAgPSBmaXJzdElucHV0UG9wVXA7XHJcbiAgICB0aGlzLl9zZWNvbmRJbnB1dFBvcFVwID0gc2Vjb25kSW5wdXRQb3BVcDtcclxuXHJcbiAgICB0aGlzLl9zdWJtaXRQb3BVcCA9IHRoaXMuX3N1Ym1pdFBvcFVwLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfYWRkRXZlbnRzKCkge1xyXG4gICAgc3VwZXIuX2FkZEV2ZW50cygpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX3N1Ym1pdFBvcFVwKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVFdmVudHMoKSB7XHJcbiAgICBzdXBlci5fcmVtb3ZlRXZlbnRzKCk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fc3VibWl0UG9wVXApO1xyXG4gIH1cclxuXHJcbiAgX3N1Ym1pdFBvcFVwKCkge1xyXG4gICAgdGhpcy5fY3JlYXRlQ2FyZCgpO1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC50ZXh0Q29udGVudCA9IFwiQ3JlYW5kby4uLlwiO1xyXG4gICAgY29uc3QgY3JlYXRlQ2FyZCA9IG5ldyBBcGkoe1xyXG4gICAgICBiYXNlVXJsOiBcImNhcmRzXCIsXHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiB0aGlzLl9maXJzdElucHV0UG9wVXAudmFsdWUsXHJcbiAgICAgICAgbGluazogdGhpcy5fc2Vjb25kSW5wdXRQb3BVcC52YWx1ZSxcclxuICAgICAgfSksXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcIjI4ZDFmNzdiLTM2MDUtNDQ5Zi1iZjE2LTIwYTUyMTZmOGZkYlwiLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgICBjcmVhdGVDYXJkXHJcbiAgICAgIC5jYXJkKClcclxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChcclxuICAgICAgICAgIHJlc3VsdC5uYW1lLFxyXG4gICAgICAgICAgcmVzdWx0LmxpbmssXHJcbiAgICAgICAgICByZXN1bHQuX2lkLFxyXG4gICAgICAgICAgcmVzdWx0Lmxpa2VzLFxyXG4gICAgICAgICAgcmVzdWx0Lm93bmVyLFxyXG4gICAgICAgICAgXCIuY2FyZC10ZW1wbGF0ZVwiXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBuZXdDYXJkRWxlbWVudCA9IG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICAgICAgY29udGVudENhcmRMaXN0LnByZXBlbmQobmV3Q2FyZEVsZW1lbnQpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlUG9wVXAoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VQb3BVcCgpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLnRleHRDb250ZW50ID0gXCJDcmVhclwiO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wVXAgfSBmcm9tIFwiLi9Qb3BVcC5qc1wiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3BVcFdpdGhGb3JtRWRpdCBleHRlbmRzIFBvcFVwIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGNvbnRlbnRQb3BVcCxcclxuICAgIGNvbnRlbnRQb3BVcFNlbGVjdG9yLFxyXG4gICAgY2xvc2VCdXR0b25Qb3BVcCxcclxuICAgIG9wZW5CdXR0b25Qb3BVcCxcclxuICAgIHN1Ym1pdEJ1dHRvblBvcFVwLFxyXG4gICAgZmlyc3RJbnB1dFBvcFVwLFxyXG4gICAgc2Vjb25kSW5wdXRQb3BVcCxcclxuICAgIGZpcnN0TGFiZWxQb3BVcCxcclxuICAgIHNlY29uZExhYmVsUG9wVXBcclxuICApIHtcclxuICAgIHN1cGVyKFxyXG4gICAgICBjb250ZW50UG9wVXAsXHJcbiAgICAgIGNvbnRlbnRQb3BVcFNlbGVjdG9yLFxyXG4gICAgICBjbG9zZUJ1dHRvblBvcFVwLFxyXG4gICAgICBvcGVuQnV0dG9uUG9wVXBcclxuICAgICk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcCA9IHN1Ym1pdEJ1dHRvblBvcFVwO1xyXG4gICAgdGhpcy5fZmlyc3RJbnB1dFBvcFVwID0gZmlyc3RJbnB1dFBvcFVwO1xyXG4gICAgdGhpcy5fc2Vjb25kSW5wdXRQb3BVcCA9IHNlY29uZElucHV0UG9wVXA7XHJcbiAgICB0aGlzLl9maXJzdExhYmVsUG9wVXAgPSBmaXJzdExhYmVsUG9wVXA7XHJcbiAgICB0aGlzLl9zZWNvbmRMYWJlbFBvcFVwID0gc2Vjb25kTGFiZWxQb3BVcDtcclxuXHJcbiAgICB0aGlzLl9zdWJtaXRQb3BVcCA9IHRoaXMuX3N1Ym1pdFBvcFVwLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfYWRkRXZlbnRzKCkge1xyXG4gICAgc3VwZXIuX2FkZEV2ZW50cygpO1xyXG4gICAgdGhpcy5fZmlyc3RJbnB1dFBvcFVwLnZhbHVlID0gdGhpcy5fZmlyc3RMYWJlbFBvcFVwLnRleHRDb250ZW50O1xyXG4gICAgdGhpcy5fc2Vjb25kSW5wdXRQb3BVcC52YWx1ZSA9IHRoaXMuX3NlY29uZExhYmVsUG9wVXAudGV4dENvbnRlbnQ7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fc3VibWl0UG9wVXApO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUV2ZW50cygpIHtcclxuICAgIHN1cGVyLl9yZW1vdmVFdmVudHMoKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9zdWJtaXRQb3BVcCk7XHJcbiAgfVxyXG5cclxuICBfc3VibWl0UG9wVXAoKSB7XHJcbiAgICAvL0phY3F1ZXMgQ291c3RlYXVcclxuICAgIC8vU2FpbG9yLCByZXNlYXJjaGVyXHJcblxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAudGV4dENvbnRlbnQgPSBcIkVkaXRhbmRvLi4uXCI7XHJcblxyXG4gICAgY29uc3QgZWRpdFBob3RvUHJvZmlsZSA9IG5ldyBBcGkoe1xyXG4gICAgICBiYXNlVXJsOiBgdXNlcnMvbWVgLFxyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IHRoaXMuX2ZpcnN0SW5wdXRQb3BVcC52YWx1ZSxcclxuICAgICAgICBhYm91dDogdGhpcy5fc2Vjb25kSW5wdXRQb3BVcC52YWx1ZSxcclxuICAgICAgfSksXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcIjI4ZDFmNzdiLTM2MDUtNDQ5Zi1iZjE2LTIwYTUyMTZmOGZkYlwiLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgZWRpdFBob3RvUHJvZmlsZVxyXG4gICAgICAucHJvZmlsZSgpXHJcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlc3VsdGFkbyBkZWwgcGVyZmlsIGNvbiBsb3MgbnVldm9zIGRhdG9zOiBcIiArIHJlc3VsdCk7XHJcbiAgICAgICAgdGhpcy5fZmlyc3RMYWJlbFBvcFVwLnRleHRDb250ZW50ID0gcmVzdWx0Lm5hbWU7XHJcbiAgICAgICAgdGhpcy5fc2Vjb25kTGFiZWxQb3BVcC50ZXh0Q29udGVudCA9IHJlc3VsdC5hYm91dDtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICB0aGlzLl9jbG9zZVBvcFVwKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlUG9wVXAoKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC50ZXh0Q29udGVudCA9IFwiR3VhcmRhclwiO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2UgZWRpdMOzIGxhIGluZm9ybWFjacOzbiBkZWwgcGVyZmlsIGNvbiBleGl0b1wiKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcFVwIH0gZnJvbSBcIi4vUG9wVXAuanNcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wVXBXaXRoUGhvdG9FZGl0IGV4dGVuZHMgUG9wVXAge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgY29udGVudFBvcFVwLFxyXG4gICAgY29udGVudFBvcFVwU2VsZWN0b3IsXHJcbiAgICBjbG9zZUJ1dHRvblBvcFVwLFxyXG4gICAgb3BlbkJ1dHRvblBvcFVwLFxyXG4gICAgc3VibWl0QnV0dG9uUG9wVXAsXHJcbiAgICBmaXJzdElucHV0UG9wVXAsXHJcbiAgICBwaG90b0VkaXRcclxuICApIHtcclxuICAgIHN1cGVyKFxyXG4gICAgICBjb250ZW50UG9wVXAsXHJcbiAgICAgIGNvbnRlbnRQb3BVcFNlbGVjdG9yLFxyXG4gICAgICBjbG9zZUJ1dHRvblBvcFVwLFxyXG4gICAgICBvcGVuQnV0dG9uUG9wVXBcclxuICAgICk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcCA9IHN1Ym1pdEJ1dHRvblBvcFVwO1xyXG4gICAgdGhpcy5fZmlyc3RJbnB1dFBvcFVwID0gZmlyc3RJbnB1dFBvcFVwO1xyXG4gICAgdGhpcy5fcGhvdG9FZGl0ID0gcGhvdG9FZGl0O1xyXG5cclxuICAgIHRoaXMuX3N1Ym1pdFBvcFVwID0gdGhpcy5fc3VibWl0UG9wVXAuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIF9hZGRFdmVudHMoKSB7XHJcbiAgICBzdXBlci5fYWRkRXZlbnRzKCk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fc3VibWl0UG9wVXApO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUV2ZW50cygpIHtcclxuICAgIHN1cGVyLl9yZW1vdmVFdmVudHMoKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblBvcFVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9zdWJtaXRQb3BVcCk7XHJcbiAgfVxyXG5cclxuICBfc3VibWl0UG9wVXAoKSB7XHJcbiAgICAvL2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY29tbW9uL2F2YS5qcGdcclxuXHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Qb3BVcC50ZXh0Q29udGVudCA9IFwiRWRpdGFuZG8uLi5cIjtcclxuXHJcbiAgICBjb25zdCBlZGl0UGhvdG9Qcm9maWxlID0gbmV3IEFwaSh7XHJcbiAgICAgIGJhc2VVcmw6IGB1c2Vycy9tZS9hdmF0YXJgLFxyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogdGhpcy5fZmlyc3RJbnB1dFBvcFVwLnZhbHVlLFxyXG4gICAgICB9KSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiMjhkMWY3N2ItMzYwNS00NDlmLWJmMTYtMjBhNTIxNmY4ZmRiXCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBlZGl0UGhvdG9Qcm9maWxlXHJcbiAgICAgIC5wcm9maWxlKClcclxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgXCJSZXN1bHRhZG8gZGUgY2FtYmlvIGRlIGZvdG8gZGUgcGVyZmlsIGFjdHVhbGl6YWRvOiBcIiArIHJlc3VsdFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5fcGhvdG9FZGl0LnNyYyA9IHJlc3VsdC5hdmF0YXI7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VQb3BVcCgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICB0aGlzLl9jbG9zZVBvcFVwKCk7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uUG9wVXAudGV4dENvbnRlbnQgPSBcIkd1YXJkYXJcIjtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNlIGVkaXTDsyBsYSBmb3RvIGRlIHBlcmZpbCBjb24gZXhpdG9cIik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZm9ybSwgZm9ybUVsZW1lbnRzKSB7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50cyA9IGZvcm1FbGVtZW50cztcclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImJ1dHRvbl9pbmFjdGl2ZVwiKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJidXR0b25faW5hY3RpdmVcIik7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcigpIHtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC5lcnJvcl8ke3RoaXMuX2lucHV0RWxlbWVudExpc3QuaWR9YFxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRMaXN0LmNsYXNzTGlzdC5hZGQoXCJpbnB1dF9lcnJvci1hY3RpdmVcIik7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImVycm9yX2FjdGl2ZVwiKTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX2lucHV0RWxlbWVudExpc3QudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoKSB7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuZXJyb3JfJHt0aGlzLl9pbnB1dEVsZW1lbnRMaXN0LmlkfWBcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRFbGVtZW50TGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXRfZXJyb3ItYWN0aXZlXCIpO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvcl9hY3RpdmVcIik7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSgpIHtcclxuICAgIGlmICghdGhpcy5faW5wdXRFbGVtZW50TGlzdC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50cy5xdWVyeVNlbGVjdG9yQWxsKFwiLmlucHV0XCIpKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudHMucXVlcnlTZWxlY3RvcihcIi5idXR0b25cIik7XHJcblxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lucHV0RWxlbWVudExpc3QgPSBpbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBkYXRhLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcyA9IGRhdGE7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgLy90aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lclNlbGVjdG9yO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5jbGVhcigpO1xyXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBcIi4vc3R5bGVzL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQge1xyXG4gIGNvbnRlbnRDYXJkTGlzdCxcclxuICBmb3JtTGlzdCxcclxuICBjb250ZW50UG9wVXBFZGl0LFxyXG4gIGNvbnRlbnRQb3BVcEFkZCxcclxuICBjb250ZW50UG9wVXBFZGl0UGhvdG8sXHJcbiAgYnV0dG9uQ2xvc2VNb2RhbEVkaXQsXHJcbiAgYnV0dG9uQ2xvc2VNb2RhbEFkZCxcclxuICBidXR0b25DbG9zZU1vZGFsRWRpdFBob3RvLFxyXG4gIGJ1dHRvbk9wZW5Nb2RhbEVkaXQsXHJcbiAgYnV0dG9uT3Blbk1vZGFsQWRkLFxyXG4gIGJ1dHRvbk9wZW5Nb2RhbEVkaXRQaG90byxcclxuICBidXR0b25TdWJtaXRFZGl0LFxyXG4gIGJ1dHRvblN1Ym1pdEFkZCxcclxuICBidXR0b25TdWJtaXRFZGl0UGhvdG8sXHJcbiAgaW5wdXROYW1lLFxyXG4gIGlucHV0T2N1cGF0aW9uLFxyXG4gIHByb2ZpbGVJbWFnZSxcclxuICBsYWJlbE5hbWUsXHJcbiAgbGFiZWxPY3VwYXRpb24sXHJcbiAgaW5wdXROYW1lUGxhY2UsXHJcbiAgaW5wdXRVcmxQbGFjZSxcclxuICBpbnB1dFVybEVkaXQsXHJcbiAgcGhvdG9FZGl0LFxyXG59IGZyb20gXCIuL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5cclxuaW1wb3J0IHsgUG9wVXBXaXRoRm9ybUFkZCB9IGZyb20gXCIuL2NvbXBvbmVudHMvUG9wVXBXaXRoRm9ybUFkZC5qc1wiO1xyXG5cclxuaW1wb3J0IHsgUG9wVXBXaXRoRm9ybUVkaXQgfSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcFVwV2l0aEZvcm1FZGl0LmpzXCI7XHJcblxyXG5pbXBvcnQgeyBQb3BVcFdpdGhQaG90b0VkaXQgfSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcFVwV2l0aFBob3RvRWRpdC5qc1wiO1xyXG5cclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5cclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5cclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuXHJcbmNvbnN0IGdldENhcmRzID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJjYXJkc1wiLFxyXG4gIG1ldGhvZDogXCJHRVRcIixcclxuICBib2R5OiBudWxsLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiMjhkMWY3N2ItMzYwNS00NDlmLWJmMTYtMjBhNTIxNmY4ZmRiXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbmdldENhcmRzXHJcbiAgLmNhcmQoKVxyXG4gIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiTGlzdGEgZGUgY2FyZHM6IFwiICsgcmVzdWx0KTtcclxuICAgIGNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAgICAgIHtcclxuICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICAgICAgICAgIGl0ZW0ubmFtZSxcclxuICAgICAgICAgICAgaXRlbS5saW5rLFxyXG4gICAgICAgICAgICBpdGVtLl9pZCxcclxuICAgICAgICAgICAgaXRlbS5saWtlcyxcclxuICAgICAgICAgICAgaXRlbS5vd25lcixcclxuICAgICAgICAgICAgXCIuY2FyZC10ZW1wbGF0ZVwiXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gICAgICAgICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgY29udGVudENhcmRMaXN0XHJcbiAgICApO1xyXG5cclxuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KVxyXG4gIC5maW5hbGx5KCgpID0+IHtcclxuICAgIGNvbnRlbnRDYXJkTGlzdC5jbGFzc0xpc3QucmVtb3ZlKFwic2hpbW1lclwiKTtcclxuICB9KTtcclxuXHJcbmNvbnN0IGdldEluZm9ybWF0aW9uUHJvZmlsZSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwidXNlcnMvbWVcIixcclxuICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgYm9keTogbnVsbCxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjI4ZDFmNzdiLTM2MDUtNDQ5Zi1iZjE2LTIwYTUyMTZmOGZkYlwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG5nZXRJbmZvcm1hdGlvblByb2ZpbGVcclxuICAucHJvZmlsZSgpXHJcbiAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgIHBob3RvRWRpdC5zcmMgPSByZXN1bHQuYXZhdGFyO1xyXG4gICAgbGFiZWxOYW1lLnRleHRDb250ZW50ID0gcmVzdWx0Lm5hbWU7XHJcbiAgICBsYWJlbE9jdXBhdGlvbi50ZXh0Q29udGVudCA9IHJlc3VsdC5hYm91dDtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH0pXHJcbiAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgcGhvdG9FZGl0LnN0eWxlLnpJbmRleCA9IFwiMFwiO1xyXG4gICAgcHJvZmlsZUltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJzaGltbWVyXCIpO1xyXG4gICAgbGFiZWxOYW1lLmNsYXNzTGlzdC5yZW1vdmUoXCJzaGltbWVyXCIpO1xyXG4gICAgbGFiZWxPY3VwYXRpb24uY2xhc3NMaXN0LnJlbW92ZShcInNoaW1tZXJcIik7XHJcbiAgfSk7XHJcblxyXG5jb25zdCByZW5kZXJQb3BVcHMgPSAoKSA9PiB7XHJcbiAgY29uc3QgUG9wVXBGb3JtRWRpdCA9IG5ldyBQb3BVcFdpdGhGb3JtRWRpdChcclxuICAgIGNvbnRlbnRQb3BVcEVkaXQsXHJcbiAgICBcImNvbnRlbnQtbW9kYWxfdmlzaWJpbGl0eV92aXNpYmxlXCIsXHJcbiAgICBidXR0b25DbG9zZU1vZGFsRWRpdCxcclxuICAgIGJ1dHRvbk9wZW5Nb2RhbEVkaXQsXHJcbiAgICBidXR0b25TdWJtaXRFZGl0LFxyXG4gICAgaW5wdXROYW1lLFxyXG4gICAgaW5wdXRPY3VwYXRpb24sXHJcbiAgICBsYWJlbE5hbWUsXHJcbiAgICBsYWJlbE9jdXBhdGlvblxyXG4gICk7XHJcbiAgUG9wVXBGb3JtRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICBjb25zdCBQb3BVcEZvcm1BZGQgPSBuZXcgUG9wVXBXaXRoRm9ybUFkZChcclxuICAgIGNvbnRlbnRQb3BVcEFkZCxcclxuICAgIFwiY29udGVudC1tb2RhbF92aXNpYmlsaXR5X3Zpc2libGVcIixcclxuICAgIGJ1dHRvbkNsb3NlTW9kYWxBZGQsXHJcbiAgICBidXR0b25PcGVuTW9kYWxBZGQsXHJcbiAgICBidXR0b25TdWJtaXRBZGQsXHJcbiAgICBpbnB1dE5hbWVQbGFjZSxcclxuICAgIGlucHV0VXJsUGxhY2VcclxuICApO1xyXG4gIFBvcFVwRm9ybUFkZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICBjb25zdCBQb3BVcFBob3RvRWRpdCA9IG5ldyBQb3BVcFdpdGhQaG90b0VkaXQoXHJcbiAgICBjb250ZW50UG9wVXBFZGl0UGhvdG8sXHJcbiAgICBcImNvbnRlbnQtbW9kYWxfdmlzaWJpbGl0eV92aXNpYmxlXCIsXHJcbiAgICBidXR0b25DbG9zZU1vZGFsRWRpdFBob3RvLFxyXG4gICAgYnV0dG9uT3Blbk1vZGFsRWRpdFBob3RvLFxyXG4gICAgYnV0dG9uU3VibWl0RWRpdFBob3RvLFxyXG4gICAgaW5wdXRVcmxFZGl0LFxyXG4gICAgcGhvdG9FZGl0XHJcbiAgKTtcclxuICBQb3BVcFBob3RvRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG59O1xyXG5cclxucmVuZGVyUG9wVXBzKCk7XHJcblxyXG5jb25zdCByZW5kZXJGb3JtVmFsaWRhdG9yID0gKCkgPT4ge1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCBmaWVsZHNldExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsLWZvcm1fX3NldFwiKVxyXG4gICAgKTtcclxuICAgIGZpZWxkc2V0TGlzdC5mb3JFYWNoKChmaWVsZHNldCkgPT4ge1xyXG4gICAgICBjb25zdCBmb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVsZW1lbnQsIGZpZWxkc2V0KTtcclxuICAgICAgZm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbnJlbmRlckZvcm1WYWxpZGF0b3IoKTtcclxuIl0sIm5hbWVzIjpbImNvbnRlbnRQb3BVcEVkaXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50UG9wVXBBZGQiLCJjb250ZW50UG9wVXBFZGl0UGhvdG8iLCJjb250ZW50UG9wVXBEZWxldGVDYXJkIiwiY29udGVudFBvcFVwSW1hZ2UiLCJjb250ZW50Q2FyZExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9uU3VibWl0RWRpdCIsImJ1dHRvblN1Ym1pdEFkZCIsImJ1dHRvblN1Ym1pdEVkaXRQaG90byIsImJ1dHRvblN1Ym1pdERlbGV0ZUNhcmQiLCJidXR0b25DbG9zZU1vZGFsRWRpdCIsImJ1dHRvbkNsb3NlTW9kYWxBZGQiLCJidXR0b25DbG9zZU1vZGFsRWRpdFBob3RvIiwiYnV0dG9uQ2xvc2VNb2RhbERlbGV0ZUNhcmQiLCJidXR0b25DbG9zZU1vZGFsSW1hZ2UiLCJidXR0b25PcGVuTW9kYWxBZGQiLCJidXR0b25PcGVuTW9kYWxFZGl0IiwicHJvZmlsZUltYWdlIiwiYnV0dG9uT3Blbk1vZGFsRWRpdFBob3RvIiwibGFiZWxOYW1lIiwibGFiZWxPY3VwYXRpb24iLCJpbnB1dE5hbWUiLCJpbnB1dE9jdXBhdGlvbiIsImlucHV0TmFtZVBsYWNlIiwiaW5wdXRVcmxQbGFjZSIsImlucHV0VXJsRWRpdCIsInBob3RvRWRpdCIsImZvcm1MaXN0IiwiQXJyYXkiLCJmcm9tIiwiQXBpIiwib3B0aW9ucyIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfbWV0aG9kIiwibWV0aG9kIiwiX2JvZHkiLCJib2R5IiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwia2V5IiwidmFsdWUiLCJmZXRjaCIsImNvbmNhdCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiUG9wVXAiLCJjb250ZW50UG9wVXAiLCJjb250ZW50UG9wVXBTZWxlY3RvciIsImNsb3NlQnV0dG9uUG9wVXAiLCJvcGVuQnV0dG9uUG9wVXAiLCJfY29udGVudFBvcFVwIiwiX2NvbnRlbnRQb3BVcFNlbGVjdG9yIiwiX2Nsb3NlQnV0dG9uUG9wVXAiLCJfb3BlbkJ1dHRvblBvcFVwIiwiX2Nsb3NlUG9wVXBLZXlEb3duIiwiYmluZCIsIl9jbG9zZVBvcFVwT3V0c2lkZUNsaWNrIiwiX29wZW5Qb3BVcCIsIl9jbG9zZVBvcFVwIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic3R5bGUiLCJvdmVyZmxvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0IiwiX2Rpc2FibGVTY3JvbGwiLCJfdG9nZ2xlUG9wVXAiLCJfYWRkRXZlbnRzIiwiX2VuYWJsZVNjcm9sbCIsIl9yZW1vdmVFdmVudHMiLCJQb3BVcFdpdGhJbWFnZSIsIl9Qb3BVcCIsIl9pbmhlcml0cyIsIl9zdXBlciIsInNyYyIsInRleHRDb250ZW50IiwiX3RoaXMiLCJjYWxsIiwiX3NyYyIsIl90ZXh0Q29udGVudCIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJjaGlsZHJlbiIsIlBvcFVwRGVsZXRlQ2FyZCIsInN1Ym1pdEJ1dHRvblBvcFVwIiwiY2FyZCIsImlkQ2FyZCIsIl9zdWJtaXRCdXR0b25Qb3BVcCIsIl9jYXJkIiwiX2lkQ2FyZCIsIl9zdWJtaXRQb3BVcCIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJfdGhpczIiLCJhdXRob3JpemF0aW9uIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiZmluYWxseSIsInJlbW92ZSIsIkNhcmQiLCJuYW1lIiwibGluayIsImxpa2VzIiwidXNlciIsImNhcmRTZWxlY3RvciIsIl90aXRsZSIsIl9pbWFnZSIsIl9saWtlcyIsIl9pc0xpa2VkIiwiX3VzZXIiLCJfY2FyZFNlbGVjdG9yIiwiX2NhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9jYXJkUGhvdG9JdGVtIiwiX2NhcmRUaXRsZSIsIl9kZWxldGVCdXR0b24iLCJfbGlrZUJ1dHRvbiIsIl9jb250TGlrZXMiLCJmb3JFYWNoIiwiZWxlbWVudCIsIl9pZCIsImFkZCIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwibGVuZ3RoIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3BVcFdpdGhGb3JtQWRkIiwiZmlyc3RJbnB1dFBvcFVwIiwic2Vjb25kSW5wdXRQb3BVcCIsIl9maXJzdElucHV0UG9wVXAiLCJfc2Vjb25kSW5wdXRQb3BVcCIsIl9jcmVhdGVDYXJkIiwiSlNPTiIsInN0cmluZ2lmeSIsIm5ld0NhcmRFbGVtZW50Iiwib3duZXIiLCJnZW5lcmF0ZUNhcmQiLCJwcmVwZW5kIiwiUG9wVXBXaXRoRm9ybUVkaXQiLCJmaXJzdExhYmVsUG9wVXAiLCJzZWNvbmRMYWJlbFBvcFVwIiwiX2ZpcnN0TGFiZWxQb3BVcCIsIl9zZWNvbmRMYWJlbFBvcFVwIiwiYWJvdXQiLCJwcm9maWxlIiwiUG9wVXBXaXRoUGhvdG9FZGl0IiwiX3Bob3RvRWRpdCIsImF2YXRhciIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtIiwiZm9ybUVsZW1lbnRzIiwiX2Zvcm0iLCJfZm9ybUVsZW1lbnRzIiwiX2lucHV0TGlzdCIsInNvbWUiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9idXR0b25FbGVtZW50IiwiZGlzYWJsZWQiLCJfZXJyb3JFbGVtZW50IiwiX2lucHV0RWxlbWVudExpc3QiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInByZXZlbnREZWZhdWx0IiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsImRhdGEiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImFwcGVuZCIsImlubmVySFRNTCIsImNsZWFyIiwiaXRlbSIsImNhcmRMaXN0IiwiY2FyZEVsZW1lbnQiLCJhZGRJdGVtIiwicmVuZGVySXRlbXMiLCJ6SW5kZXgiLCJmb3JtRWxlbWVudCIsImZpZWxkc2V0IiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=